{"version":3,"sources":["config/config.js","shared/utils/url.js","shared/utils/storage.js","core/api/share.js","shared/utils/helpers.js","sources/octaves.js","components/notes/notes.js","components/qr/qr.js","core/context.js","services/UploadService/UploadService.js","components/userend/userend.js","shared/ui/dropzone/dropzone/utils/index.js","shared/ui/dropzone/dropzone/utils/styles.js","shared/ui/dropzone/dropzone/index.js","self/component.js","shared/ui/dropzone/dropzone.js","index.js"],"names":["config","TOKEN","setHeaders","pms","arguments","length","undefined","auth","headers","axios","multidata","requestHeaders","Config","concat","Headers","uploadPhotoDefaultParams","album_id","name","description","photo","color","uri","console","log","share","uploadPhoto","options","source","CancelToken","formData","FormData","forEach","obj","newObj","p","k","omitEmptyPreserveNatural","Object","objectSpread","v","append","request","url","method","data","cancelToken","token","onUploadProgress","progressEvent","l","loaded","t","total","Number","parseInt","then","res","getPhoto","id","fetch","json","createAlbum","body","JSON","stringify","getAlbum","octaves","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","Octaves","styled","div","_templateObject","window","innerWidth","Title","h1","_templateObject2","OctaveKey","_templateObject3","random","size","props","play","Btn","_templateObject4","colorArray","synth","Tone","Synth","toMaster","playSequence","state","setState","Transport","stop","notes","getToneTime","note","notetime","now","n","push","m","o","d","octave","schedule","time","triggerAttackRelease","Draw","document","getElementById","innerHTML","style","indexOf","toArray","backgroundColor","Time","toSeconds","ongoing","scan","start","Notes","_useState","useState","albumID","_useState2","slicedToArray","fetchNotes","_ref2","asyncToGenerator","regenerator_default","a","mark","_callee2","wrap","_context2","prev","next","code","process","sent","flattenDeep","this","apply","react_default","createElement","Fragment","type","onClick","map","i","key","codeReader","BrowserQRCodeReader","_ref","_callee","result","_context","decodeFromInputVideoDevice","text","querySelector","click","reset","DropZoneContext","React","createContext","CONSTS","NEW_ALBUM","FILES_PER_UPLOAD","STATUS","ERROR","PAUSED","PENDING","ONGOING","ABORTED","UPLOADED","globalState","files","newAlbumID","populators","aaa","getState","getGrouped","groupBy","FileUploader","classCallCheck","file","route","restParams","objectWithoutProperties","buffer","remoteFile","uploadedAt","responceMessage","status","uploadFile","bind","changeStatus","registerUpload","unregisterUpload","removeFileFromBuffer","nextStatus","msg","uploadFiles","_this","remove","f","fid","Api","message","populateChanges","progress","_this2","isFunction","cancelUpload","Date","cancel","Promise","resolve","deletePhoto","pauseUpload","prevStatus","success","onUploadSuccess","catch","thrown","isCancel","UploadService","uploadPerSession","bufferPerSession","BUFFER_PER_UPLOAD","clearAll","cancelFile","clearUpload","resumeUpload","getGlobalState","countUploadedFiles","registerSubscriberPopulator","unregisterSubscriberPopulator","populate","filesByStatus","ongoingUpload","take","upload","_globalState$files","pathname","location","routePath","albumRegex","test","exec","sanitizeRoutePath","toConsumableArray","find","has","pausedUpload","populator","Math","toString","substr","userend_templateObject","AddPhotos","button","userend_templateObject2","small","GetQR","userend_templateObject3","ButtonsBox","userend_templateObject4","Separator","_templateObject5","QRCODE","img","_templateObject6","Info","h3","_templateObject7","Back","_templateObject8","UserEnd","possibleConstructorReturn","getPrototypeOf","call","qr","fuse","fuseID","forceUpdate","addPhotos","assertThisInitialized","generateQR","getQR","getView","dropZoneContext","dropzoneRef","current","open","tabIndex","_this3","qrcode","QRCode","width","height","colorDark","colorLight","correctLevel","CorrectLevel","H","setTimeout","_el","src","_this4","_this5","flexDirection","goBack","_this6","Consumer","context","Component","supportMultiple","getDataTransferItems","event","dataTransferItemsList","dataTransfer","dt","items","target","Array","prototype","slice","fileAccepted","accept","accepts","onDocumentDragOver","evt","preventDefault","styles","borderStyle","borderColor","opacity","borderWidth","borderRadius","Dropzone","draggedFiles","acceptedFiles","rejectedFiles","setRef","setRefs","isFileDialogActive","composeHandlers","onDocumentDrop","onDragEnter","onDragLeave","onDragOver","onDragStart","onDrop","onFileDialogCancel","onInputElementClick","preventDropOnDocument","dragTargets","addEventListener","fileInputEl","removeEventListener","handler","disabled","node","contains","isDragActive","stopPropagation","dropEffect","err","filter","el","_this$props","onDropAccepted","onDropRejected","multiple","fileList","maxSize","minSize","fileMatchSize","splice","_this$props2","disableClick","userAgent","navigator","isIe","isEdge","isIeOrEdge","inputProps","ref","value","children","isDragAccept","isDragReject","_this$props3","acceptClassName","activeClassName","disabledClassName","rejectClassName","rest","acceptStyle","activeStyle","_rest$className","className","disabledStyle","rejectStyle","_this$state","filesCount","isMultipleAllowed","every","allFilesAccepted","noStyles","appliedStyle","position","inputAttributes","top","right","bottom","left","pointerEvents","onChange","autoComplete","disablePreview","divProps","assign","aria-disabled","renderChildren","defaultProps","Infinity","CreatePureComponent","ACTION","READY","action","payload","ready","reducer","SyntaxError","prevState","nextAction","PureComponent","OngoingUpload","dropzone_templateObject","show","OngoingUploadFilesBox","dropzone_templateObject2","El","updateList","_this$props$file$stat","role","DropZone","store","dropzoneActive","setContextState","newState","SHOW_DROPZONE","HIDE_DROPZONE","createRef","renderDropZone","renderEmpty","always","dispatch","dropzone","zIndex","display","background","alignItems","justifyContent","fontSize","nextProps","nextState","dropzoneEnabled","contextValue","updateFilesState","Provider","GlobalStyle","createGlobalStyle","src_templateObject","App","hash","ReactDOM","render","src_App","notes_notes","dropzone_dropzone","userend"],"mappings":"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","file":"static/js/main.1ecbc72b.chunk.js","sourcesContent":["export default {\n  debug: false,\n  AUTH: {\n    TOKEN: 'Authorization'\n  }\n};\n","import { defaultsDeep, map, forEach, includes } from 'lodash';\nimport { get } from './storage';\n\nimport Config from '../../config/config';\n\nconst getParam = (n = undefined, q = undefined) => {\n  const params = {};\n\n  let name = n;\n  let query = q;\n  let { search } = window.location;\n\n  if (query) {\n    search = query;\n  }\n\n  if (includes(name, '=')) {\n    query = name;\n    name = undefined;\n  }\n\n  if (includes(search, '?')) {\n    search = search.split('?')[1];\n  }\n\n  forEach(search.split('&'), (p) => {\n    let pair = p;\n\n    if (pair) {\n      pair = pair.split('=');\n      params[pair[0]] = decodeURIComponent(pair[1] || '');\n    }\n  });\n\n  if (!name) {\n    return params;\n  }\n\n  return params[name];\n};\n\nconst makeParams = (params = {}, mergeExisting = false) => {\n  if (mergeExisting) {\n    defaultsDeep(params, getParam());\n  }\n\n  return map(Object.keys(params), k => encodeURIComponent(k) + '=' + encodeURIComponent(params[k])).join('&');\n};\n\nconst setHeaders = (pms = {\n  auth: true,\n  headers: {},\n  axios: false,\n  multidata: false\n}) => {\n  const requestHeaders = pms.headers || {};\n\n  if (pms.multidata) {\n    requestHeaders['Content-Type'] = 'multipart/form-data';\n  } else {\n    requestHeaders['Content-Type'] = 'application/json';\n  }\n\n  if (pms.auth) {\n    requestHeaders[Config.AUTH.TOKEN] = `Bearer ${get(Config.AUTH.TOKEN)}`;\n  }\n\n  if (pms.axios) {\n    return requestHeaders;\n  }\n\n  return new Headers(requestHeaders);\n};\n\nexport {\n  getParam,\n  makeParams,\n  setHeaders\n};\n","const LOCAL_STORAGE = 'localStorage';\n\nconst get = () => 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1NDgyNzM0MDcsImV4cCI6MTU0ODg3ODIwNywic3ViIjoiMTIifQ.T2lU8EXi5sZC4Xpt5X_XgOxzzCLt7rRvxDp2JLjKnLc'//key => window[LOCAL_STORAGE].getItem(key);\n\nconst put = (key, value) => {\n  window[LOCAL_STORAGE].setItem(key, value);\n};\n\nconst drop = (key) => {\n  window[LOCAL_STORAGE].removeItem(key);\n};\n\nconst clear = () => {\n  window[LOCAL_STORAGE].clear();\n};\n\nexport { put, get, drop, clear };\n","// ####### Declarations ##########\nimport axios from 'axios';\nimport { forEach } from 'lodash';\nimport { setHeaders } from '../../shared/utils/url';\nimport { omitEmptyPreserveNatural } from '../../shared/utils/helpers';\n\n// ####### Default Params ##########\nconst uploadPhotoDefaultParams = {\n  album_id: '',\n  name: '',\n  description: '',\n  photo: '',\n  color: '',\n  uri: null,\n};\n\n// ####### Api Endpoints ##########\nconst uploadPhoto = (pms = uploadPhotoDefaultParams, options = {}) => {\n  const { CancelToken } = axios;\n  const source = CancelToken.source();\n\n  const formData = new FormData();\n\n  forEach(omitEmptyPreserveNatural({ ...uploadPhotoDefaultParams, ...pms }), (v, k) => formData.append(k, v));\n\n  const request = axios({\n    url: 'https://devapi.imglish.com/photo/add',\n    method: 'POST',\n    headers: setHeaders({ axios: true, auth: true, multidata: true }),\n    data: formData,\n    cancelToken: source.token,\n    onUploadProgress: (progressEvent) => {\n      if (options.onUploadProgress) {\n        const { loaded: l, total: t } = progressEvent;\n        const loaded = Number(l);\n        const total = Number(t);\n\n        if (loaded && total) {\n          options.onUploadProgress(parseInt(loaded / total * 100, 10));\n        }\n      }\n    },\n  }).then(res => res.data);\n\n  return {\n    request,\n    source,\n  };\n}\n\nconst getPhoto = (pms = {\n  id: '',\n}) => fetch(`https://devapi.imglish.com/photo/${pms.id}`, {\n  method: 'GET',\n  headers: setHeaders(),\n}).then(res => res.json());\n\nconsole.log('setHeaders', setHeaders())\n\nconst createAlbum = (pms = {\n  name: '',\n  description: '',\n  uri: '',\n}) => fetch('https://devapi.imglish.com/album/create', {\n  method: 'POST',\n  headers: setHeaders(),\n  body: JSON.stringify(pms),\n}).then(res => res.json());\n\nconst getAlbum = (pms = {\n  id: '',\n}) => fetch(`https://devapi.imglish.com/album/${pms.id}`, {\n  method: 'GET',\n  headers: setHeaders(),\n}).then(res => res.json());\n\n// ####### Export ##########\nexport default {\n  uploadPhoto,\n  getPhoto,\n  createAlbum,\n  getAlbum\n};\n","import { forEach, mergeWith, isFunction, isNull, isUndefined } from 'lodash';\n\nconst units = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\nexport const toSize = (kb) => {\n  const x = kb * 1000;\n  let l = 0;\n  let n = parseInt(x, 10) || 0;\n\n  while (n >= 1024 && ++l) n /= 1024;\n  return (n.toFixed(n >= 10 || l < 1 ? 0 : 2) + ' ' + units[l]);\n};\n\nexport const multiFn = (fns, ...args) => {\n  if (fns) {\n    if (Array.isArray(fns)) {\n      fns.forEach(fn => fn(...args));\n    } else {\n      return fns(...args);\n    }\n  }\n};\n\nexport const mergeWithFnCustomizer = (objValue, srcValue) => {\n  if (isFunction(objValue) && isFunction(srcValue)) {\n    return (...args) => {\n      objValue(...args);\n      srcValue(...args);\n    };\n  }\n};\n\nexport const mergeWithFn = (object, source) => mergeWith(object, source, mergeWithFnCustomizer);\n\nexport const delayApi = (delay = 2000) => new Promise(((resolve) => {\n  setTimeout(resolve, delay);\n}));\n\nexport const toHex = (c) => {\n  const hex = c.toString(16);\n  return hex.length === 1 ? '0' + hex : hex;\n};\n\nexport const truncate = (value) => {\n  if (value < 0) return 0;\n  if (value > 255) return 255;\n\n  return value;\n};\n\nexport const rgbToHex = (r, g, b) => toHex(truncate(r)) + toHex(truncate(g)) + toHex(truncate(b));\n\nexport const hexToRgb = (hex) => {\n  const shortHex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  const longHex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n  let color = hex;\n\n  color = color.replace(shortHex, (m, r, g, b) => r + r + g + g + b + b);\n\n  const rgb = longHex.exec(color);\n\n  return rgb ? {\n    r: parseInt(rgb[1], 16),\n    g: parseInt(rgb[2], 16),\n    b: parseInt(rgb[3], 16)\n  } : null;\n};\n\nexport const isDefined = v => !isNull(v) && !isUndefined(v) && v !== '';\n\nexport const getContrastColor = (color) => {\n  const rgb = hexToRgb(color);\n\n  if ((rgb.r * 0.299 + rgb.g * 0.587 + rgb.b * 0.114) > 186) {\n    return '#000000';\n  }\n\n  return '#ffffff';\n};\n\n/**\n * Function will remove non defined primitive values from flat object\n *\n * - Preserved values: \"\", 0, [], {}, false\n * - Removed values: null, undefined\n * @returns modified object\n * */\nexport const omitEmptyPreserveNatural = (obj) => {\n  const newObj = {};\n\n  forEach(obj, (p, k) => {\n    if (p !== null && p !== undefined) {\n      newObj[k] = p;\n    }\n  });\n\n  return newObj;\n};\n","export default {\n  0: 'C1',\n  1: 'D1',\n  2: 'E1',\n  3: 'F1',\n  4: 'G1',\n  5: 'A1',\n  6: 'B1',\n  7: 'C2',\n  8: 'D2',\n  9: 'E2',\n  10: 'F2',\n  11: 'G2',\n  12: 'A2',\n  13: 'B2',\n  14: 'C3',\n  15: 'D3',\n  16: 'E3',\n  17: 'F3',\n  18: 'G3',\n  19: 'A3',\n  20: 'B3',\n  21: 'C4',\n  22: 'D4',\n  23: 'E4',\n  24: 'F4',\n  25: 'G4',\n  26: 'A4',\n  27: 'B4',\n  28: 'C5',\n  29: 'D5',\n  30: 'E5',\n  31: 'F5',\n  32: 'G5',\n  33: 'A5',\n  34: 'B5',\n  35: 'C6',\n  36: 'D6',\n  37: 'E6',\n  38: 'F6',\n  39: 'G6',\n  40: 'A6',\n  41: 'B6',\n  42: 'C7',\n  43: 'D7',\n  44: 'E7',\n  45: 'F7',\n  46: 'G7',\n  47: 'A7',\n  48: 'B7',\n};\n","// ####### Declarations ##########\nimport React, { useState } from 'react';\nimport Tone from 'tone';\nimport styled from 'styled-components';\nimport {\n  flattenDeep, map, forEach, size, random, findIndex, indexOf, toArray,\n} from 'lodash';\nimport ShareApi from '../../core/api/share';\nimport octaves from '../../sources/octaves';\n\n// ####### Styled Components #############\nconst Octaves = styled.div`\n  position: relative;\n  width: ${(window.innerWidth / 3)}px;\n  height: ${(window.innerWidth / 3)}px;\n  background: #000;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n`;\nconst Title = styled.h1`\n  font-size: 5em;\n  margin: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  z-index: 10;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst OctaveKey = styled.div`\n  // border-top-left-radius: ${() => random(0, size(octaves))}px;\n  // border-top-right-radius: ${() => random(0, size(octaves))}px;\n  // border-bottom-left-radius: ${() => random(0, size(octaves))}px;\n  // border-bottom-right-radius: ${() => random(0, size(octaves))}px;\n  width: ${(window.innerWidth / 3) / (size(octaves) / 7)}px;\n  height: ${(window.innerWidth / 3) / (size(octaves) / 7)}px;\n  // color: transparent;\n  color: #000;\n  font-size: 16px;\n  display: flex;\n  background-color: #000;\n  // background-color: ${props => (props.play ? '#ff0007ab' : 'transparent')};\n  justify-content: center;\n  align-items: center;\n  transition: all ease-in 0.2s;\n\n  // :nth-of-type(2n){\n  //   background-color: #967171\n  // }\n`;\nconst Btn = styled.div`\n  background: transparent;\n  opacity: 0;\n  padding: 12px 18px;\n  border-radius: 5px;\n  color: rgb(255, 255, 255);\n  font-weight: 400;\n  position: fixed;\n  z-index: 100;\n  bottom: 20px;\n  left: 50%;\n  transform: translatex(-50%);\n  margin: auto;\n  display: inline-block;\n  border: solid 1px;\n`;\n\n// ####### Helpers ##########\nconst colorArray = [\n  '#FF6633', '#FFB399', '#FF33FF', '#FFFF99', '#00B3E6',\n  '#E6B333', '#3366E6', '#999966', '#99FF99', '#B34D4D',\n  '#80B300', '#809900', '#E6B3B3', '#6680B3', '#66991A',\n  '#FF99E6', '#CCFF1A', '#FF1A66', '#E6331A', '#33FFCC',\n  '#66994D', '#B366CC', '#4D8000', '#B33300', '#CC80CC',\n  '#66664D', '#991AFF', '#E666FF', '#4DB3FF', '#1AB399',\n  '#E666B3', '#33991A', '#CC9999', '#B3B31A', '#00E680',\n  '#4D8066', '#809980', '#E6FF80', '#1AFF33', '#999933',\n  '#FF3380', '#CCCC00', '#66E64D', '#4D80CC', '#9900B3',\n  '#E64D66', '#4DB380', '#FF4D4D', '#99E6E6', '#6666FF',\n];\n\nconst asyncForEach = async (array, callback) => {\n  for (let index = 0; index < array.length; index += 1) {\n    await callback(array[index], index, array); // eslint-disable-line\n  }\n};\n\n// ####### Functions ##########\nconst synth = new Tone.Synth().toMaster();\n\nconst playSequence = (state, setState) => {\n  Tone.Transport.stop();\n\n  const notes = [];\n\n  const getToneTime = (note = '4n') => {\n    let notetime = Tone.now();\n\n    notes.forEach((n) => {\n      notetime += n;\n    });\n\n    notes.push(note);\n\n    console.log('notetime', notetime);\n\n    return notetime;\n  };\n\n  const play = (o, n, d) => {\n    Tone.Transport.schedule((time) => {\n      synth.triggerAttackRelease(o, n, time);\n      Tone.Draw.schedule(() => {\n        document.getElementById('text').innerHTML = d;\n        document.getElementById('text').style.color = colorArray[indexOf(toArray(octaves), o)];\n        document.getElementById(o).style.backgroundColor = colorArray[indexOf(toArray(octaves), o)];\n      }, time);\n\n      Tone.Draw.schedule(() => {\n        document.getElementById(o).style.backgroundColor = '';\n      }, time + Tone.Time(n).toSeconds());\n    }, getToneTime(n));\n  };\n\n  state.data.forEach((m) => {\n    const { octave, note, description } = m;\n    play(octave, note, description);\n  });\n\n  Tone.Transport.schedule(() => {\n    document.getElementById('text').innerHTML = '';\n    setState({ ...state, data: [], ongoing: false });\n    window.scan();\n  }, getToneTime());\n\n  Tone.Transport.start();\n};\n\n// ####### Composing view ##########\nconst Notes = () => {\n  console.log('render');\n  const [state, setState] = useState({\n    ongoing: false,\n    data: [],\n    albumID: 0,\n    play: '',\n  });\n\n  const getNotes = () => {\n    setState({\n      ...state,\n      ongoing: true,\n    });\n  };\n\n  const fetchNotes = async () => {\n    if (!window.code) {\n      window.code = 422;\n    }\n\n    const data = [];\n    // const album = await (await ShareApi.getAlbum({ id: window.code })).json();\n\n    // await asyncForEach(album.message.photos, async (photo) => {\n    // const notes = await (await fetch(`http://127.0.0.1:9999?photoID=${photo.id}&imageURI=${encodeURIComponent(photo.file.path)}`)).json();\n    const notes = await (await fetch(`${process.env.REACT_APP_API_URL}?photoID=${1}&imageURI=${1}`)).json();\n    data.push(notes);\n    // });\n\n    setState({ ...state, data: flattenDeep(data), ongoing: false });\n  };\n\n  if (state.ongoing) {\n    fetchNotes();\n  }\n\n  if (state.data.length) {\n    console.log(state.data);\n    playSequence(state, setState);\n  }\n\n  return (\n    <React.Fragment>\n      <div>\n        <Btn\n          type=\"button\"\n          onClick={getNotes}\n        >\n          {state.ongoing ? 'Fetching...' : 'Release'}\n        </Btn>\n      </div>\n      <Title id=\"text\" />\n\n      <Octaves>\n        {map(octaves, (octave, i) => (\n          <OctaveKey\n            type=\"tone\"\n            id={octave}\n            key={octave}\n            octave={octave}\n            color={colorArray[i]}\n            play={octave === state.play}\n          >\n            {octave}\n          </OctaveKey>\n        ))}\n      </Octaves>\n\n    </React.Fragment>\n  );\n};\n\nexport default Notes;\n","import { BrowserQRCodeReader } from '@zxing/library';\n\nconst codeReader = new BrowserQRCodeReader();\n\nwindow.code = null;\n\nconst scan = async () => {\n  const result = await codeReader.decodeFromInputVideoDevice(undefined, 'qr');\n  window.code = parseInt(result.text, 10);\n  document.querySelector('[type=\"button\"]').click();\n  codeReader.reset();\n};\n\nwindow.scan = scan;\n\nexport default scan;\n","import React from 'react';\n\nexport const DropZoneContext = React.createContext();\n\nconst withDropZoneContext = Component => props => (\n  <DropZoneContext.Consumer>\n    {context => <Component {...props} dropzoneContext={context} />}\n  </DropZoneContext.Consumer>\n);\n\nexport {\n  withDropZoneContext\n};\n","/**\n * FUSe.js - JavaScript Files Upload Service\n *\n * Copyright by (c) Szymon Pajka 2018\n * v. 0.1.0\n *\n * This is the Imglish files upload service, responsible for:\n *\n * - keeping state of all ongoing uploads\n * - uploading files to correct destination\n * - working out of the box (not being interupted by route change)\n */\n\n// ####### Declarations ##########\nimport Api from '../../core/api/share';\nimport axios from 'axios';\nimport { groupBy, forEach, remove, take, find, isFunction, has } from 'lodash';\n\n// ####### Defaults ##########\nconst CONSTS = {\n  NEW_ALBUM: 'NEW_ALBUM',\n  FILES_PER_UPLOAD: 3,\n  STATUS: {\n    ERROR: 'ERROR',\n    PAUSED: 'PAUSED',\n    PENDING: 'PENDING',\n    ONGOING: 'ONGOING',\n    ABORTED: 'ABORTED',\n    UPLOADED: 'UPLOADED'\n  }\n};\n\nconst globalState = {\n  files: [],\n  newAlbumID: null\n};\n\nconst populators = {};\n\nwindow.aaa = {\n  getState: () => globalState,\n  getGrouped: () => groupBy(globalState.files, 'state.status')\n};\n\n// ####### Helpers ##########\nconst sanitizeRoutePath = (routePath) => {\n  const albumRegex = /(\\/album\\/)(\\d*)/;\n  const route = routePath;\n\n  if (route === '/404') {\n    return null;\n  }\n\n  if (albumRegex.test(route)) {\n    return albumRegex.exec(route)[2];\n  }\n\n  return CONSTS.NEW_ALBUM;\n};\n\nclass FileUploader {\n  constructor(props) {\n    const { file, route, ...restParams } = props;\n\n    this.state = {\n      file,\n      route,\n      buffer: false,\n      remoteFile: null,\n      uploadedAt: null,\n      responceMessage: null,\n      status: CONSTS.STATUS.PENDING\n    };\n\n    this.props = restParams;\n\n    this.uploadFile = this.uploadFile.bind(this);\n    this.changeStatus = this.changeStatus.bind(this);\n    this.registerUpload = this.registerUpload.bind(this);\n    this.unregisterUpload = this.unregisterUpload.bind(this);\n    this.removeFileFromBuffer = this.removeFileFromBuffer.bind(this);\n  }\n\n  changeStatus(nextStatus, msg) {\n    this.state.status = CONSTS.STATUS[nextStatus] || this.state.status;\n\n    if (msg) {\n      this.state.responceMessage = msg;\n    }\n  }\n\n  registerUpload() {\n    this.changeStatus(CONSTS.STATUS.ONGOING);\n  }\n\n  unregisterUpload(status) {\n    this.changeStatus(status);\n    this.props.uploadFiles();\n  }\n\n  removeFileFromBuffer() {\n    remove(globalState.files, f => f.state.file.fid === this.state.file.fid);\n    this.props.uploadFiles();\n  }\n\n  async uploadFile() {\n    const { file, route } = this.state;\n    // const { color, reader } = this.state.fileData;\n\n    let albumID = route;\n\n    if (route === CONSTS.NEW_ALBUM) {\n      if (!globalState.newAlbumID) {\n        const res = await Api.createAlbum({ name: 'New Album', description: '' });\n        globalState.newAlbumID = res.message.id;\n\n        this.props.populateChanges('qqqqq');\n      }\n\n      albumID = globalState.newAlbumID;\n    }\n\n    const { request, source } = Api.uploadPhoto({\n      album_id: albumID,\n      name: file.name,\n      // photo: reader.result,\n      photo: file,\n      // color: rgbToHex(color.r, color.g, color.b)\n      color: ''\n    }, {\n      onUploadProgress: (progress) => {\n        if (this.onUploadProgress && isFunction(this.onUploadProgress)) {\n          this.onUploadProgress(progress);\n        }\n      }\n    });\n\n    this.cancelUpload = () => {\n      const canCancel = this.state.uploadedAt ? new Date() - this.state.uploadedAt < 140 : true;\n\n      if (canCancel) {\n        if (this.state.status === CONSTS.STATUS.ONGOING) {\n          source.cancel();\n          this.removeFileFromBuffer();\n          return Promise.resolve();\n        }\n\n        if (this.state.remoteFile) {\n          return Api.deletePhoto({\n            id: this.state.remoteFile.id\n          }).then(() => {\n            this.removeFileFromBuffer();\n          });\n        }\n      } else {\n        this.removeFileFromBuffer();\n      }\n\n      return Promise.resolve();\n    };\n\n    this.pauseUpload = () => {\n      const prevStatus = this.state.status;\n\n      this.changeStatus(CONSTS.STATUS.PAUSED);\n\n      if (prevStatus === CONSTS.STATUS.ONGOING) {\n        source.cancel();\n        return Promise.resolve();\n      }\n\n      if (this.state.remoteFile) {\n        return Api.deletePhoto({\n          id: this.state.remoteFile.id\n        });\n      }\n\n      return Promise.resolve();\n    };\n\n    request.then((res) => {\n      if (res.success) {\n        this.state.uploadedAt = new Date();\n        this.state.remoteFile = res.message;\n        this.unregisterUpload(CONSTS.STATUS.UPLOADED);\n\n        this.props.populateChanges('aaaa');\n\n        if (this.onUploadSuccess && isFunction(this.onUploadSuccess)) {\n          this.onUploadSuccess();\n        }\n      } else {\n        this.unregisterUpload(CONSTS.STATUS.ERROR, res.message);\n      }\n    }).catch((thrown) => {\n      axios.isCancel(thrown);\n    });\n  }\n\n  upload() {\n    this.registerUpload();\n    this.uploadFile();\n  }\n}\n\n// ####### Main Class ##########\nclass UploadService {\n  // constructor(dropzoneProps) {\n  constructor(props) {\n    this.state = {\n      uploadPerSession: CONSTS.FILES_PER_UPLOAD,\n      bufferPerSession: CONSTS.BUFFER_PER_UPLOAD\n    };\n\n    this.props = props;\n    // this.props = dropzoneProps;\n\n    this.push = this.push.bind(this);\n    this.clearAll = this.clearAll.bind(this);\n    this.cancelFile = this.cancelFile.bind(this);\n    // this.updateProps = this.updateProps.bind(this);\n    this.uploadFiles = this.uploadFiles.bind(this);\n    this.pauseUpload = this.pauseUpload.bind(this);\n    this.clearUpload = this.clearUpload.bind(this);\n    this.resumeUpload = this.resumeUpload.bind(this);\n    this.getGlobalState = this.getGlobalState.bind(this);\n    this.populateChanges = this.populateChanges.bind(this);\n    this.countUploadedFiles = this.countUploadedFiles.bind(this);\n    this.registerSubscriberPopulator = this.registerSubscriberPopulator.bind(this);\n    this.unregisterSubscriberPopulator = this.unregisterSubscriberPopulator.bind(this);\n  }\n\n  populateChanges(t) {\n    forEach(populators, populate => populate(t));\n  }\n\n  uploadFiles() {\n    const { files } = globalState;\n    const { uploadPerSession } = this.state;\n    const filesByStatus = groupBy(files, 'state.status');\n    const ongoingUpload = filesByStatus[CONSTS.STATUS.ONGOING] || [];\n\n    console.log(filesByStatus);\n\n    if (ongoingUpload.length < uploadPerSession) {\n      forEach(take(filesByStatus[CONSTS.STATUS.PENDING], uploadPerSession), file => file.upload());\n    }\n  }\n\n  push(files) {\n    // const { pathname } = this.props.location;\n    const { pathname } = window.location;\n    const { uploadFiles, populateChanges } = this;\n    const route = sanitizeRoutePath(pathname);\n\n    if (!route) return;\n\n    globalState.files.push(...files.map(file => new FileUploader({ file, route, uploadFiles, populateChanges })));\n    this.uploadFiles();\n  }\n\n  // updateProps(nextProps) {\n  //   this.props = nextProps;\n  // }\n\n  cancelFile(fid) {\n    const file = find(globalState.files, f => f.state.file.fid === fid);\n\n    if (has(file, 'cancelUpload')) {\n      return file.cancelUpload();\n    }\n\n    remove(globalState.files, f => f.state.file.fid === fid);\n    return Promise.resolve();\n  }\n\n  getGlobalState() {\n    return globalState;\n  }\n\n  countUploadedFiles() {\n    const { files } = globalState;\n    const filesByStatus = groupBy(files, 'state.status');\n\n    return [(filesByStatus[CONSTS.STATUS.UPLOADED] || []).length];\n  }\n\n  pauseUpload() {\n    const { files } = globalState;\n    const filesByStatus = groupBy(files, 'state.status');\n    const ongoingUpload = filesByStatus[CONSTS.STATUS.ONGOING] || [];\n\n    forEach(ongoingUpload, (file) => {\n      if (has(file, 'pauseUpload')) {\n        file.pauseUpload();\n      }\n    });\n  }\n\n  resumeUpload() {\n    const { files } = globalState;\n    const filesByStatus = groupBy(files, 'state.status');\n    const pausedUpload = filesByStatus[CONSTS.STATUS.PAUSED] || [];\n\n    forEach(pausedUpload, (file) => {\n      file.upload();\n    });\n  }\n\n  clearUpload() {\n    const { files } = globalState;\n    const filesByStatus = groupBy(files, 'state.status');\n    const pausedUpload = filesByStatus[CONSTS.STATUS.UPLOADED] || [];\n\n    forEach(pausedUpload, (file) => {\n      remove(globalState.files, f => f.state.file.fid === file.state.file.fid);\n    });\n  }\n\n  clearAll() {\n    this.pauseUpload();\n    globalState.files = [];\n  }\n\n  registerSubscriberPopulator(populator) {\n    const key = Math.random().toString(36).substr(2, 9);\n    populators[key] = populator;\n    return key;\n  }\n\n  unregisterSubscriberPopulator(key) {\n    delete populators[key];\n  }\n}\n\n// ####### Export ##########\nexport default UploadService;\n","import React from 'react';\nimport styled from 'styled-components'\nimport { DropZoneContext } from '../../core/context';\nimport UploadService from '../../services/UploadService/UploadService';\n\nconst Box = styled.div`\n  width: 100%;\n  color: #fff;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\nconst AddPhotos = styled.button`\n  border-radius: 50px;\n  border: 0;\n  height: 52px;\n  width: ${props => props.small ? '50%' : '100%'};\n  padding: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  color: #000000;\n  background: #E5F77D;\n  font-size: 1.2rem;\n`\nconst GetQR = styled.button`\n  border-radius: 50px;\n  border: 0;\n  height: 52px;\n  width: 100%;\n  padding: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  color: #000000;\n  background: #7BC950;\n  font-size: 1.2rem;\n`\nconst ButtonsBox = styled.div`\n  display: flex;\n  position: fixed;\n  padding: 12px;\n  padding-bottom: 18px\n  box-sizing: border-box;\n  bottom: 0;\n  width: 100%;\n`\nconst Separator = styled.div`\n  width: 0;\n  margin-left: 12px;\n`\nconst QRCODE = styled.img`\n  max-width: 100%;\n  left: 0;\n  right: 0;\n  top: 44px;\n  margin: auto;\n  position: absolute;\n  border: solid 20px #fff;\n  box-sizing: border-box;\n`\nconst Info = styled.h3`\n  color: #fff;\n  margin: 0;\n  text-align: center;\n  padding: 12px 6px;\n  font-size: 0.875rem;\n`\nconst Back = styled.button`\n  background: none;\n  color: #fff;\n  border: none;\n  font-size: 1rem;\n  text-align: right;\n  white-space: nowrap;\n`\n\nclass UserEnd extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      qr: false\n    }\n\n    this.fuse = new UploadService();\n    this.fuseID = this.fuse.registerSubscriberPopulator(() => this.forceUpdate());\n\n    this.addPhotos = this.addPhotos.bind(this)\n    this.generateQR = this.generateQR.bind(this)\n    this.getQR = this.getQR.bind(this)\n    this.getView = this.getView.bind(this)\n  }\n  \n  addPhotos(pms = {}) {\n    return <AddPhotos small={pms.small} onClick={() => this.dropZoneContext.dropzoneRef.current.open()} tabIndex=\"0\" type=\"button\">{pms.small ? '+ Add' : '+ Add Photos'}</AddPhotos>\n  }\n\n  generateQR() {\n    document.getElementById(\"qrcode\").innerHTML = ''\n\n    const qrcode = new window.QRCode(document.getElementById(\"qrcode\"), {\n      text: this.fuse.getGlobalState().newAlbumID,\n      width: 512,\n      height: 512,\n      colorDark : \"#000000\",\n      colorLight : \"#ffffff\",\n      correctLevel : window.QRCode.CorrectLevel.H\n    });\n\n    setTimeout(() => {\n      this.setState({\n        qr: qrcode._el.querySelector('img').src\n      })\n    }, 178)\n  }\n\n  getQR() {\n    return <GetQR onClick={() => this.generateQR()} tabIndex=\"0\" type=\"button\">Get your pass</GetQR>     \n  }\n\n  goBack() {\n    const goback = () => {\n      this.fuse.clearAll()\n      this.setState({\n        qr: null\n      })\n    }\n\n    return <Back onClick={goback} tabIndex=\"0\" type=\"button\"> ← Start again</Back>  \n  }\n\n  getView() {\n    if (this.state.qr) {\n      return (\n        <React.Fragment>\n          <Info>Scan your ticket to play music</Info>\n          <QRCODE src={this.state.qr} />\n          <ButtonsBox style={{flexDirection: 'row-reverse'}}>{this.goBack()}</ButtonsBox>\n        </React.Fragment>\n      )\n    }\n\n    if (this.fuse.getGlobalState().files.length) {\n      return (\n        <ButtonsBox>\n          {this.addPhotos({ small: true })}\n          <Separator />\n          {this.getQR()}\n        </ButtonsBox>\n      )\n    }\n  \n    return <ButtonsBox>{this.addPhotos()}</ButtonsBox>\n  }\n\n  componentWillUnmount() {\n    this.fuse.unregisterSubscriberPopulator(this.fuseID);\n  }\n\n  render () {\n    return (\n      <DropZoneContext.Consumer>\n        {(context) => {\n          this.dropZoneContext = context;\n\n          return (\n            <React.Fragment>\n              {this.getView()}\n            </React.Fragment>\n          )\n        }}\n      </DropZoneContext.Consumer>\n    )\n  }\n}\n\nexport default UserEnd;\n","import accepts from 'attr-accept';\n\nexport const supportMultiple = typeof document !== 'undefined' && document && document.createElement\n  ? 'multiple' in document.createElement('input')\n  : true;\n\nexport function getDataTransferItems(event) {\n  let dataTransferItemsList = [];\n  if (event.dataTransfer) {\n    const dt = event.dataTransfer;\n    if (dt.files && dt.files.length) {\n      dataTransferItemsList = dt.files;\n    } else if (dt.items && dt.items.length) {\n      // During the drag even the dataTransfer.files is null\n      // but Chrome implements some drag store, which is accesible via dataTransfer.items\n      dataTransferItemsList = dt.items;\n    }\n  } else if (event.target && event.target.files) {\n    dataTransferItemsList = event.target.files;\n  }\n  // Convert from DataTransferItemsList to the native Array\n  return Array.prototype.slice.call(dataTransferItemsList);\n}\n\n// Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\nexport function fileAccepted(file, accept) {\n  return file.type === 'application/x-moz-file' || accepts(file, accept);\n}\n\nexport function fileMatchSize(file, maxSize, minSize) {\n  return file.size <= maxSize && file.size >= minSize;\n}\n\nexport function allFilesAccepted(files, accept) {\n  return files.every(file => fileAccepted(file, accept));\n}\n\n// allow the entire document to be a drag target\nexport function onDocumentDragOver(evt) {\n  evt.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf('MSIE') !== -1 || userAgent.indexOf('Trident/') !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf('Edge/') !== -1;\n}\n\nexport function isIeOrEdge(userAgent = window.navigator.userAgent) {\n  return isIe(userAgent) || isEdge(userAgent);\n}\n","export default {\n  rejected: {\n    borderStyle: 'solid',\n    borderColor: '#c66',\n    backgroundColor: '#eee'\n  },\n  disabled: {\n    opacity: 0.5\n  },\n  active: {\n    borderStyle: 'solid',\n    borderColor: '#6c6',\n    backgroundColor: '#eee'\n  },\n  default: {\n    width: 200,\n    height: 200,\n    borderWidth: 2,\n    borderColor: '#666',\n    borderStyle: 'dashed',\n    borderRadius: 5\n  }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  supportMultiple,\n  fileAccepted,\n  allFilesAccepted,\n  fileMatchSize,\n  onDocumentDragOver,\n  getDataTransferItems,\n  isIeOrEdge\n} from './utils';\nimport styles from './utils/styles';\n\nclass Dropzone extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      draggedFiles: [],\n      acceptedFiles: [],\n      rejectedFiles: []\n    };\n\n    this.setRef = this.setRef.bind(this);\n    this.setRefs = this.setRefs.bind(this);\n\n    this.isFileDialogActive = false;\n\n    this.composeHandlers = this.composeHandlers.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onDocumentDrop = this.onDocumentDrop.bind(this);\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onDragOver = this.onDragOver.bind(this);\n    this.onDragStart = this.onDragStart.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    this.onFileDialogCancel = this.onFileDialogCancel.bind(this);\n    this.onInputElementClick = this.onInputElementClick.bind(this);\n  }\n\n  componentDidMount() {\n    const { preventDropOnDocument } = this.props;\n    this.dragTargets = [];\n\n    if (preventDropOnDocument) {\n      document.addEventListener('dragover', onDocumentDragOver, false);\n      document.addEventListener('drop', this.onDocumentDrop, false);\n    }\n\n    this.fileInputEl.addEventListener('click', this.onInputElementClick, false);\n\n    window.addEventListener('focus', this.onFileDialogCancel, false);\n  }\n\n  componentWillUnmount() {\n    const { preventDropOnDocument } = this.props;\n\n    if (preventDropOnDocument) {\n      document.removeEventListener('dragover', onDocumentDragOver);\n      document.removeEventListener('drop', this.onDocumentDrop);\n    }\n\n    if (this.fileInputEl != null) {\n      this.fileInputEl.removeEventListener('click', this.onInputElementClick, false);\n    }\n\n    window.removeEventListener('focus', this.onFileDialogCancel, false);\n  }\n\n  composeHandlers(handler) {\n    if (this.props.disabled) {\n      return null;\n    }\n\n    return handler;\n  }\n\n  onDocumentDrop(evt) {\n    if (this.node && this.node.contains(evt.target)) {\n      // if we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n    evt.preventDefault();\n    this.dragTargets = [];\n  }\n\n  onDragStart(evt) {\n    if (this.props.onDragStart) {\n      this.props.onDragStart.call(this, evt);\n    }\n  }\n\n  onDragEnter(evt) {\n    evt.preventDefault();\n\n    // Count the dropzone and any children that are entered.\n    if (this.dragTargets.indexOf(evt.target) === -1) {\n      this.dragTargets.push(evt.target);\n    }\n\n    this.setState({\n      isDragActive: true, // Do not rely on files for the drag state. It doesn't work in Safari.\n      draggedFiles: getDataTransferItems(evt)\n    });\n\n    if (this.props.onDragEnter) {\n      this.props.onDragEnter.call(this, evt);\n    }\n  }\n\n  onDragOver(evt) {\n    // eslint-disable-line class-methods-use-this\n    evt.preventDefault();\n    evt.stopPropagation();\n\n    try {\n      // The file dialog on Chrome allows users to drag files from the dialog onto\n      // the dropzone, causing the browser the crash when the file dialog is closed.\n      // A drop effect of 'none' prevents the file from being dropped\n      evt.dataTransfer.dropEffect = this.isFileDialogActive ? 'none' : 'copy'; // eslint-disable-line no-param-reassign\n    } catch (err) {\n      // continue regardless of error\n    }\n\n    if (this.props.onDragOver) {\n      this.props.onDragOver.call(this, evt);\n    }\n    return false;\n  }\n\n  onDragLeave(evt) {\n    evt.preventDefault();\n\n    // Only deactivate once the dropzone and all children have been left.\n    this.dragTargets = this.dragTargets.filter(el => el !== evt.target && this.node.contains(el));\n    if (this.dragTargets.length > 0) {\n      return;\n    }\n\n    // Clear dragging files state\n    this.setState({\n      isDragActive: false,\n      draggedFiles: []\n    });\n\n    if (this.props.onDragLeave) {\n      this.props.onDragLeave.call(this, evt);\n    }\n  }\n\n  onDrop(evt) {\n    const { onDrop, onDropAccepted, onDropRejected, multiple, accept } = this.props;\n    const fileList = getDataTransferItems(evt);\n    const acceptedFiles = [];\n    const rejectedFiles = [];\n\n    // Stop default browser behavior\n    evt.preventDefault();\n\n    // Reset the counter along with the drag on a drop.\n    this.dragTargets = [];\n    this.isFileDialogActive = false;\n\n    fileList.forEach((file) => {\n      // if (!disablePreview) {\n      //   try {\n      //     file.preview = window.URL.createObjectURL(file); // eslint-disable-line no-param-reassign\n      //   } catch (err) {\n      //     if (process.env.NODE_ENV !== 'production') {\n      //       console.error('Failed to generate preview for file', file, err); // eslint-disable-line no-console\n      //     }\n      //   }\n      // }\n\n      file.fid = (Math.random().toString(36).substr(2, 9) + Math.random().toString(36).substr(2, 9)); // eslint-disable-line no-param-reassign\n\n      if (\n        fileAccepted(file, accept)\n        && fileMatchSize(file, this.props.maxSize, this.props.minSize)\n      ) {\n        acceptedFiles.push(file);\n      } else {\n        rejectedFiles.push(file);\n      }\n    });\n\n    if (!multiple) {\n      // if not in multi mode add any extra accepted files to rejected.\n      // This will allow end users to easily ignore a multi file drop in \"single\" mode.\n      rejectedFiles.push(...acceptedFiles.splice(1));\n    }\n\n    if (onDrop) {\n      onDrop.call(this, acceptedFiles, rejectedFiles, evt);\n    }\n\n    if (rejectedFiles.length > 0 && onDropRejected) {\n      onDropRejected.call(this, rejectedFiles, evt);\n    }\n\n    if (acceptedFiles.length > 0 && onDropAccepted) {\n      onDropAccepted.call(this, acceptedFiles, evt);\n    }\n\n    // Clear files value\n    this.draggedFiles = null;\n\n    // Reset drag state\n    this.setState({\n      isDragActive: false,\n      draggedFiles: [],\n      acceptedFiles,\n      rejectedFiles\n    });\n  }\n\n  onClick(evt) {\n    const { onClick, disableClick } = this.props;\n    if (!disableClick) {\n      evt.stopPropagation();\n\n      if (onClick) {\n        onClick.call(this, evt);\n      }\n\n      // in IE11/Edge the file-browser dialog is blocking, ensure this is behind setTimeout\n      // this is so react can handle state changes in the onClick prop above above\n      // see: https://github.com/react-dropzone/react-dropzone/issues/450\n      if (isIeOrEdge()) {\n        setTimeout(this.open.bind(this), 0);\n      } else {\n        this.open();\n      }\n    }\n  }\n\n  onInputElementClick(evt) {\n    evt.stopPropagation();\n    if (this.props.inputProps && this.props.inputProps.onClick) {\n      this.props.inputProps.onClick();\n    }\n  }\n\n  onFileDialogCancel() {\n    // timeout will not recognize context of this method\n    const { onFileDialogCancel } = this.props;\n    // execute the timeout only if the FileDialog is opened in the browser\n    if (this.isFileDialogActive) {\n      setTimeout(() => {\n        if (this.fileInputEl != null) {\n          // Returns an object as FileList\n          const { files } = this.fileInputEl;\n\n          if (!files.length) {\n            this.isFileDialogActive = false;\n          }\n        }\n\n        if (typeof onFileDialogCancel === 'function') {\n          onFileDialogCancel();\n        }\n      }, 300);\n    }\n  }\n\n  setRef(ref) {\n    this.node = ref;\n  }\n\n  setRefs(ref) {\n    this.fileInputEl = ref;\n  }\n\n  /**\n   * Open system file upload dialog.\n   *\n   * @public\n   */\n  open() {\n    this.isFileDialogActive = true;\n    this.fileInputEl.value = null;\n    this.fileInputEl.click();\n  }\n\n  renderChildren(children, isDragActive, isDragAccept, isDragReject) {\n    if (typeof children === 'function') {\n      return children({\n        ...this.state,\n        isDragActive,\n        isDragAccept,\n        isDragReject\n      });\n    }\n    return children;\n  }\n\n  render() {\n    const {\n      accept,\n      acceptClassName,\n      activeClassName,\n      children,\n      disabled,\n      disabledClassName,\n      inputProps,\n      multiple,\n      name,\n      rejectClassName,\n      ...rest\n    } = this.props;\n\n    let {\n      acceptStyle,\n      activeStyle,\n      className = '',\n      disabledStyle,\n      rejectStyle,\n      style,\n      ...props // eslint-disable-line prefer-const\n    } = rest;\n\n    const { isDragActive, draggedFiles } = this.state;\n    const filesCount = draggedFiles.length;\n    const isMultipleAllowed = multiple || filesCount <= 1;\n    const isDragAccept = filesCount > 0 && allFilesAccepted(draggedFiles, this.props.accept);\n    const isDragReject = filesCount > 0 && (!isDragAccept || !isMultipleAllowed);\n    const noStyles = !className && !style && !activeStyle && !acceptStyle && !rejectStyle && !disabledStyle;\n\n    if (isDragActive && activeClassName) {\n      className += ' ' + activeClassName;\n    }\n    if (isDragAccept && acceptClassName) {\n      className += ' ' + acceptClassName;\n    }\n    if (isDragReject && rejectClassName) {\n      className += ' ' + rejectClassName;\n    }\n    if (disabled && disabledClassName) {\n      className += ' ' + disabledClassName;\n    }\n\n    if (noStyles) {\n      style = styles.default;\n      activeStyle = styles.active;\n      acceptStyle = styles.active;\n      rejectStyle = styles.rejected;\n      disabledStyle = styles.disabled;\n    }\n\n    let appliedStyle = { position: 'relative', ...style };\n    if (activeStyle && isDragActive) {\n      appliedStyle = {\n        ...appliedStyle,\n        ...activeStyle\n      };\n    }\n    if (acceptStyle && isDragAccept) {\n      appliedStyle = {\n        ...appliedStyle,\n        ...acceptStyle\n      };\n    }\n    if (rejectStyle && isDragReject) {\n      appliedStyle = {\n        ...appliedStyle,\n        ...rejectStyle\n      };\n    }\n    if (disabledStyle && disabled) {\n      appliedStyle = {\n        ...appliedStyle,\n        ...disabledStyle\n      };\n    }\n\n    const inputAttributes = {\n      accept,\n      disabled,\n      type: 'file',\n      style: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        opacity: 0.00001,\n        pointerEvents: 'none',\n        ...inputProps.style\n      },\n      multiple: supportMultiple && multiple,\n      ref: this.setRefs,\n      onChange: this.onDrop,\n      autoComplete: 'off'\n    };\n\n    if (name && name.length) {\n      inputAttributes.name = name;\n    }\n\n    // Destructure custom props away from props used for the div element\n    const {\n      acceptedFiles,\n      preventDropOnDocument,\n      disablePreview,\n      disableClick,\n      onDropAccepted,\n      onDropRejected,\n      onFileDialogCancel,\n      maxSize,\n      minSize,\n      ...divProps\n    } = props;\n\n    return (\n      /* eslint-disable */\n      <div\n        className={className}\n        style={appliedStyle}\n        {...divProps /* expand user provided props first so event handlers are never overridden */}\n        onClick={this.composeHandlers(this.onClick)}\n        onDragStart={this.composeHandlers(this.onDragStart)}\n        onDragEnter={this.composeHandlers(this.onDragEnter)}\n        onDragOver={this.composeHandlers(this.onDragOver)}\n        onDragLeave={this.composeHandlers(this.onDragLeave)}\n        onDrop={this.composeHandlers(this.onDrop)}\n        ref={this.setRef}\n        aria-disabled={disabled}\n      >\n        {this.renderChildren(children, isDragActive, isDragAccept, isDragReject)}\n        <input\n          {...inputProps /* expand user provided inputProps first so inputAttributes override them */}\n          {...inputAttributes}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Dropzone;\n\nDropzone.propTypes = {\n  /**\n   * Allow specific types of files. See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n  /**\n   * Contents of the dropzone\n   */\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Disallow clicking on the dropzone container to open file dialog\n   */\n  disableClick: PropTypes.bool,\n\n  /**\n   * Enable/disable the dropzone entirely\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Enable/disable preview generation\n   */\n  disablePreview: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * Pass additional attributes to the `<input type=\"file\"/>` tag\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Allow dropping multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * `name` attribute for the input tag\n   */\n  name: PropTypes.string,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * className\n   */\n  className: PropTypes.string,\n\n  /**\n   * className to apply when drag is active\n   */\n  activeClassName: PropTypes.string,\n\n  /**\n   * className to apply when drop will be accepted\n   */\n  acceptClassName: PropTypes.string,\n\n  /**\n   * className to apply when drop will be rejected\n   */\n  rejectClassName: PropTypes.string,\n\n  /**\n   * className to apply when dropzone is disabled\n   */\n  disabledClassName: PropTypes.string,\n\n  /**\n   * CSS styles to apply\n   */\n  style: PropTypes.object,\n\n  /**\n   * CSS styles to apply when drag is active\n   */\n  activeStyle: PropTypes.object,\n\n  /**\n   * CSS styles to apply when drop will be accepted\n   */\n  acceptStyle: PropTypes.object,\n\n  /**\n   * CSS styles to apply when drop will be rejected\n   */\n  rejectStyle: PropTypes.object,\n\n  /**\n   * CSS styles to apply when dropzone is disabled\n   */\n  disabledStyle: PropTypes.object,\n\n  /**\n   * onClick callback\n   * @param {Event} event\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * onDrop callback\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * onDropAccepted callback\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * onDropRejected callback\n   */\n  onDropRejected: PropTypes.func,\n\n  /**\n   * onDragStart callback\n   */\n  onDragStart: PropTypes.func,\n\n  /**\n   * onDragEnter callback\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * onDragOver callback\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * onDragLeave callback\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Provide a callback on clicking the cancel button of the file dialog\n   */\n  onFileDialogCancel: PropTypes.func\n};\n\nDropzone.defaultProps = {\n  preventDropOnDocument: true,\n  disabled: false,\n  disablePreview: false,\n  disableClick: false,\n  inputProps: {},\n  multiple: true,\n  maxSize: Infinity,\n  minSize: 0\n};\n\n/* eslint-enable */\n","import { Component, PureComponent } from 'react';\nimport { isFunction } from 'lodash';\n\nclass CreateComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.CONSTS = {\n      ACTION: {\n        READY: 'READY'\n      }\n    };\n  }\n\n  reducer(state, action) {\n    switch (action.type) {\n      case this.CONSTS.ACTION.READY:\n        return {\n          ...state,\n          ...action.payload,\n          ready: true\n        };\n      default:\n        return state;\n    }\n  }\n\n  dispatch(action = { type: null, payload: {} }) {\n    if (this.reducer && isFunction(this.reducer)) {\n      this.setState((prevState) => {\n        let nextAction = action;\n\n        if (isFunction(nextAction)) {\n          nextAction = nextAction(prevState);\n        }\n\n        return this.reducer(prevState, nextAction);\n      });\n    } else {\n      throw new SyntaxError('Please provide reducer function to use this functionality!');\n    }\n  }\n}\n\nclass CreatePureComponent extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.CONSTS = {\n      ACTION: {\n        READY: 'READY'\n      }\n    };\n  }\n\n  reducer(state, action) {\n    switch (action.type) {\n      case this.CONSTS.ACTION.READY:\n        return {\n          ...state,\n          ...action.payload,\n          ready: true\n        };\n      default:\n        return state;\n    }\n  }\n\n  dispatch(action = { type: null, payload: {} }) {\n    if (this.reducer && isFunction(this.reducer)) {\n      this.setState((prevState) => {\n        let nextAction = action;\n\n        if (isFunction(nextAction)) {\n          nextAction = nextAction(prevState);\n        }\n\n        return this.reducer(prevState, nextAction);\n      });\n    } else {\n      throw new SyntaxError('Please provide reducer function to use this functionality!');\n    }\n  }\n}\n\nexport default CreateComponent;\nexport { CreatePureComponent };\n","import React, { Component } from 'react';\n\nimport Dropzone from './dropzone/index';\n\nimport {  isFunction } from 'lodash';\nimport { DropZoneContext } from '../../../core/context';\nimport { CreatePureComponent } from '../../../self/component';\n\nimport styled from 'styled-components';\nimport UploadService from '../../../services/UploadService/UploadService';\n\nconst OngoingUpload = styled.div`\n  display: ${props => (props.show ? 'block' : 'none')};\n  position: fixed;\n  bottom: 10px;\n  right: 10px;\n  padding: 16px;\n  background-color: #fff;\n  border: solid 1px #ccc;\n`;\n\nconst OngoingUploadFilesBox = styled.div`\n  height: 100%;\n  max-height: 100px;\n  overflow: auto;\n  background-color: #fff;\n`;\n\nclass El extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      progress: 0\n    };\n\n    // this.fuse = new UploadService(props);\n    this.fuse = new UploadService();\n\n    this.props.file.onUploadProgress = progress => this.setState({ progress });\n    this.props.file.onUploadSuccess = () => this.props.updateList();\n  }\n\n  render() {\n    const { fid, name } = this.props.file.state.file;\n    const { progress } = this.state;\n\n    return (\n      <div\n        role=\"button\"\n        tabIndex=\"0\"\n        onClick={() => {\n          this.fuse.cancelFile(fid).then(() => this.props.updateList());\n        }}\n        key={fid}\n      >{progress + ' - ' + name}\n      </div>\n    );\n  }\n}\n\nclass UploadView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      paused: false,\n      minimalised: false\n    };\n\n    // this.fuse = new UploadService(props);\n    this.fuse = new UploadService();\n\n    this.clearView = this.clearView.bind(this);\n    this.updateList = this.updateList.bind(this);\n    this.maximalise = this.maximalise.bind(this);\n    this.minimalise = this.minimalise.bind(this);\n    this.changeUpdateState = this.changeUpdateState.bind(this);\n  }\n\n  updateList() {\n    this.forceUpdate();\n  }\n\n  changeUpdateState() {\n    this.setState((prevState) => {\n      const isPaused = !prevState.paused;\n\n      if (isPaused) {\n        this.fuse.pauseUpload();\n      } else {\n        this.fuse.resumeUpload();\n      }\n\n      return {\n        paused: isPaused\n      };\n    });\n  }\n\n  maximalise() {\n    this.setState({\n      minimalised: false\n    });\n  }\n\n  minimalise() {\n    this.setState({\n      minimalised: true\n    });\n  }\n\n  clearView() {\n    if (this.state.paused) {\n      this.fuse.clearAll();\n      this.updateList();\n    } else {\n      this.fuse.clearUpload();\n      this.updateList();\n    }\n  }\n\n  render() {\n    const { minimalised, paused } = this.state;\n    const { files } = this.fuse.getGlobalState();\n    const [uploadedFiles] = this.fuse.countUploadedFiles();\n\n    if (!files.length) return null;\n\n    return (\n      <React.Fragment>\n        <OngoingUpload show={minimalised}>\n          <button type=\"button\" onClick={this.maximalise}>Maximalise</button>\n        </OngoingUpload>\n        <OngoingUpload show={!minimalised}>\n          { files.length ? `You have uploaded ${uploadedFiles} files from ${files.length} ` : null }\n          <button type=\"button\" onClick={this.changeUpdateState}>{paused ? 'Resume' : 'Pause'}</button>\n          <button type=\"button\" onClick={this.clearView}>Clear</button>\n          <button type=\"button\" onClick={this.minimalise}>Minimalise</button>\n          <OngoingUploadFilesBox>\n            {\n              files.map(file => <El key={file.state.file.fid} file={file} updateList={this.updateList} />)\n            }\n          </OngoingUploadFilesBox>\n        </OngoingUpload>\n      </React.Fragment>\n    );\n  }\n}\n\nclass DropZone extends CreatePureComponent {\n  constructor(props) {\n    super(props);\n\n    // this.fuse = new UploadService(props);\n    this.fuse = new UploadService();\n\n    this.state = {\n      files: [],\n      store: [],\n      dropzoneActive: false,\n      setContextState: (newState) => {\n        this.setState(newState);\n      }\n    };\n\n    this.CONSTS = {\n      ACTION: {\n        SHOW_DROPZONE: 'SHOW_DROPZONE',\n        HIDE_DROPZONE: 'HIDE_DROPZONE'\n      }\n    };\n\n    this.dropzoneRef = React.createRef();\n\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    this.renderDropZone = this.renderDropZone.bind(this);\n    this.renderEmpty = this.renderEmpty.bind(this);\n  }\n\n  reducer(state, action) {\n    const always = {\n      ...state,\n      ...action.payload\n    };\n\n    switch (action.type) {\n      case this.CONSTS.ACTION.SHOW_DROPZONE:\n        return {\n          ...always,\n          dropzoneActive: true\n        };\n      case this.CONSTS.ACTION.HIDE_DROPZONE:\n        return {\n          ...always,\n          dropzoneActive: false\n        };\n      default:\n        return state;\n    }\n  }\n\n  onDragEnter() {\n    this.dispatch({\n      type: this.CONSTS.ACTION.SHOW_DROPZONE\n    });\n  }\n\n  onDragLeave() {\n    this.dispatch({\n      type: this.CONSTS.ACTION.HIDE_DROPZONE\n    });\n  }\n\n  onDrop(files) {\n    this.fuse.push(files);\n\n    this.dispatch({\n      type: this.CONSTS.ACTION.HIDE_DROPZONE\n    });\n  }\n\n  renderDropZone() {\n    const { dropzoneActive } = this.state;\n\n    const overlayStyle = {\n      position: 'fixed',\n      top: '0px',\n      right: '0px',\n      bottom: '0px',\n      left: '0px',\n      zIndex: 9999,\n      display: 'flex',\n      flexDirection: 'column',\n      background: 'rgba(45, 167, 94, 0.85)',\n      alignItems: 'center',\n      justifyContent: 'center',\n      color: '#fff'\n    };\n\n    return (\n      <React.Fragment>\n        <Dropzone\n          disablePreview\n          disableClick\n          ref={this.dropzoneRef}\n          style={{ position: 'relative', width: '100%', height: '100%' }}\n          onDrop={this.onDrop}\n          onDragEnter={this.onDragEnter}\n          onDragLeave={this.onDragLeave}\n        >\n          {dropzoneActive && (\n            <div style={overlayStyle}>\n              <i className=\"material-icons\" style={{ fontSize: '8rem' }}>\n                add_photo_alternate\n              </i>\n              <h3>Drop files Here</h3>\n            </div>\n          )}\n          {isFunction(this.props.children) ? this.props.children(this) : this.props.children}\n        </Dropzone>\n        { //<UploadView />\n        }\n      </React.Fragment>\n    );\n  }\n\n  renderEmpty() {\n    return <div>{isFunction(this.props.children) ? this.props.children(this) : this.props.children}</div>;\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      setContextState: () => { }\n    });\n  }\n\n  componentDidUpdate(nextProps, nextState) {\n    // this.fuse.updateProps(nextProps);\n\n    if (nextState.files.length !== this.state.files.length) {\n      console.log(nextState.files);\n    }\n  }\n\n  render() {\n    const { dropzoneEnabled } = this.props;\n\n    const contextValue = {\n      ...this.state,\n      dropzoneRef: this.dropzoneRef,\n      updateFilesState: () => {}\n    };\n\n    return (\n      <DropZoneContext.Provider value={contextValue}>\n        {dropzoneEnabled ? this.renderDropZone() : this.renderEmpty()}\n      </DropZoneContext.Provider>\n    );\n  }\n}\n\nexport default DropZone;\n","import 'lodash';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createGlobalStyle } from 'styled-components';\nimport Notes from './components/notes/notes';\nimport config from './config/config';\nimport scan from './components/qr/qr';\nimport UserEnd from './components/userend/userend';\nimport Dropzone from './shared/ui/dropzone/dropzone'\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    font-family: 'Quicksand', -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\n      \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\n      sans-serif;\n  }\n\n  body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    background-color: #000;\n    margin: 0;\n    padding: 0;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\n      monospace;\n  }\n\n  #qr {\n    position: absolute;\n    top: ${config.debug ? '0' : '-100%'};\n    left: ${config.debug ? '0' : '-100%'};\n    width: ${config.debug ? 'auto' : 0};\n    height: ${config.debug ? 'auto' : 0};\n  }\n\n  #qrcode {\n    left: -1000px;\n    position: fixed;\n  }\n`;\n\nconst App = props => (\n  <React.Fragment>\n    <GlobalStyle />\n    {props.children}\n  </React.Fragment>\n);\n\nif (window.location.hash === '#donteventry') {\n  console.log('Server Mode');\n  scan();\n\n  ReactDOM.render((\n    <App>\n      <Notes />\n    </App>\n  ), document.getElementById('root'));\n} else {\n  console.log('Client Mode');\n  ReactDOM.render((\n    <App>\n      <Dropzone dropzoneEnabled={true}>\n        <UserEnd />\n      </Dropzone>\n    </App>\n  ), document.getElementById('root'));\n}\n"],"sourceRoot":""}