{"version":3,"sources":["config/config.js","shared/utils/url.js","shared/utils/storage.js","core/api/share.js","shared/utils/helpers.js","sources/octaves.js","components/notes/notes.js","components/qr/qr.js","core/context.js","services/UploadService/UploadService.js","components/userend/userend.js","shared/ui/dropzone/dropzone/utils/index.js","shared/ui/dropzone/dropzone/utils/styles.js","shared/ui/dropzone/dropzone/index.js","self/component.js","shared/ui/dropzone/dropzone.js","index.js"],"names":["config","TOKEN","setHeaders","pms","arguments","length","undefined","auth","headers","axios","multidata","requestHeaders","Config","concat","Headers","uploadPhotoDefaultParams","album_id","name","description","photo","color","uri","console","log","share","uploadPhoto","options","source","CancelToken","formData","FormData","forEach","obj","newObj","p","k","omitEmptyPreserveNatural","Object","objectSpread","v","append","request","url","method","data","cancelToken","token","onUploadProgress","progressEvent","l","loaded","t","total","Number","parseInt","then","res","getPhoto","id","fetch","json","createAlbum","body","JSON","stringify","getAlbum","octaves","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","Octaves","styled","div","_templateObject","window","innerWidth","innerHeight","Title","h1","_templateObject2","Title2","_templateObject3","Title3","_templateObject4","ColorBox","_templateObject5","OctaveKey","_templateObject6","random","size","props","play","Btn","_templateObject7","I","span","_templateObject8","II","_templateObject9","colorArray","asyncForEach","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","array","callback","index","wrap","_context","prev","next","stop","this","_x","_x2","apply","synth","Tone","Synth","toMaster","Notes","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","wait","fetchNotes","bind","assertThisInitialized","playSequence","Transport","notes","getToneTime","note","notetime","n","push","groupBy","group","m","o","d","octave","schedule","time","triggerAttackRelease","Draw","document","getElementById","innerHTML","style","indexOf","toArray","backgroundColor","Time","toSeconds","location","reload","start","code","setState","ShareApi","album","message","photos","_ref2","_callee2","notesData","_context2","process","encodeURIComponent","file","path","sent","_x3","map","flattenDeep","react_default","createElement","fontSize","Fragment","getWelcome","type","onClick","i","key","React","Component","codeReader","BrowserQRCodeReader","scan","result","decodeFromInputVideoDevice","text","querySelector","click","reset","DropZoneContext","createContext","CONSTS","NEW_ALBUM","FILES_PER_UPLOAD","STATUS","ERROR","PAUSED","PENDING","ONGOING","ABORTED","UPLOADED","globalState","files","newAlbumID","populators","aaa","getState","getGrouped","FileUploader","route","restParams","objectWithoutProperties","buffer","remoteFile","uploadedAt","responceMessage","status","uploadFile","changeStatus","registerUpload","unregisterUpload","removeFileFromBuffer","nextStatus","msg","uploadFiles","remove","f","fid","albumID","Api","populateChanges","progress","_this2","isFunction","cancelUpload","Date","cancel","Promise","resolve","deletePhoto","pauseUpload","prevStatus","success","onUploadSuccess","catch","thrown","isCancel","UploadService","uploadPerSession","bufferPerSession","BUFFER_PER_UPLOAD","clearAll","cancelFile","clearUpload","resumeUpload","getGlobalState","countUploadedFiles","registerSubscriberPopulator","unregisterSubscriberPopulator","populate","filesByStatus","ongoingUpload","take","upload","_globalState$files","pathname","routePath","albumRegex","test","exec","sanitizeRoutePath","toConsumableArray","find","has","pausedUpload","populator","Math","toString","substr","userend_templateObject","AddPhotos","button","userend_templateObject2","small","GetQR","userend_templateObject3","ButtonsBox","userend_templateObject4","Separator","userend_templateObject5","QRCODE","img","userend_templateObject6","Info","h3","userend_templateObject7","Back","userend_templateObject8","UploadBox","userend_templateObject9","UserEnd","qr","fuse","fuseID","forceUpdate","addPhotos","generateQR","getQR","getView","getUploadStats","dropZoneContext","dropzoneRef","current","open","tabIndex","_this3","qrcode","QRCode","width","height","colorDark","colorLight","correctLevel","CorrectLevel","H","setTimeout","_el","src","_this4","_this$fuse$countUploa","uploadedFiles","slicedToArray","class","display","flexDirection","goBack","_this5","Consumer","context","supportMultiple","getDataTransferItems","event","dataTransferItemsList","dataTransfer","dt","items","target","Array","prototype","slice","fileAccepted","accept","accepts","onDocumentDragOver","evt","preventDefault","styles","borderStyle","borderColor","opacity","borderWidth","borderRadius","Dropzone","draggedFiles","acceptedFiles","rejectedFiles","setRef","setRefs","isFileDialogActive","composeHandlers","onDocumentDrop","onDragEnter","onDragLeave","onDragOver","onDragStart","onDrop","onFileDialogCancel","onInputElementClick","preventDropOnDocument","dragTargets","addEventListener","fileInputEl","removeEventListener","handler","disabled","node","contains","isDragActive","stopPropagation","dropEffect","err","filter","el","_this$props","onDropAccepted","onDropRejected","multiple","fileList","maxSize","minSize","fileMatchSize","splice","_this$props2","disableClick","userAgent","navigator","isIe","isEdge","isIeOrEdge","inputProps","ref","value","children","isDragAccept","isDragReject","_this$props3","acceptClassName","activeClassName","disabledClassName","rejectClassName","rest","acceptStyle","activeStyle","_rest$className","className","disabledStyle","rejectStyle","_this$state","filesCount","isMultipleAllowed","every","allFilesAccepted","noStyles","appliedStyle","position","inputAttributes","top","right","bottom","left","pointerEvents","onChange","autoComplete","disablePreview","divProps","assign","aria-disabled","renderChildren","defaultProps","Infinity","CreatePureComponent","ACTION","READY","action","payload","ready","reducer","SyntaxError","prevState","nextAction","PureComponent","OngoingUpload","dropzone_templateObject","show","OngoingUploadFilesBox","dropzone_templateObject2","El","updateList","_this$props$file$stat","role","DropZone","_this6","store","dropzoneActive","setContextState","newState","SHOW_DROPZONE","HIDE_DROPZONE","createRef","renderDropZone","renderEmpty","always","dispatch","dropzone","zIndex","background","alignItems","justifyContent","nextProps","nextState","dropzoneEnabled","contextValue","updateFilesState","Provider","GlobalStyle","createGlobalStyle","src_templateObject","App","hash","ReactDOM","render","src_App","notes_notes","dropzone_dropzone","userend"],"mappings":"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","file":"static/js/main.d58d6cc1.chunk.js","sourcesContent":["export default {\n  debug: false,\n  AUTH: {\n    TOKEN: 'Authorization'\n  }\n};\n","import { defaultsDeep, map, forEach, includes } from 'lodash';\nimport { get } from './storage';\n\nimport Config from '../../config/config';\n\nconst getParam = (n = undefined, q = undefined) => {\n  const params = {};\n\n  let name = n;\n  let query = q;\n  let { search } = window.location;\n\n  if (query) {\n    search = query;\n  }\n\n  if (includes(name, '=')) {\n    query = name;\n    name = undefined;\n  }\n\n  if (includes(search, '?')) {\n    search = search.split('?')[1];\n  }\n\n  forEach(search.split('&'), (p) => {\n    let pair = p;\n\n    if (pair) {\n      pair = pair.split('=');\n      params[pair[0]] = decodeURIComponent(pair[1] || '');\n    }\n  });\n\n  if (!name) {\n    return params;\n  }\n\n  return params[name];\n};\n\nconst makeParams = (params = {}, mergeExisting = false) => {\n  if (mergeExisting) {\n    defaultsDeep(params, getParam());\n  }\n\n  return map(Object.keys(params), k => encodeURIComponent(k) + '=' + encodeURIComponent(params[k])).join('&');\n};\n\nconst setHeaders = (pms = {\n  auth: true,\n  headers: {},\n  axios: false,\n  multidata: false\n}) => {\n  const requestHeaders = pms.headers || {};\n\n  if (pms.multidata) {\n    requestHeaders['Content-Type'] = 'multipart/form-data';\n  } else {\n    requestHeaders['Content-Type'] = 'application/json';\n  }\n\n  if (pms.auth) {\n    requestHeaders[Config.AUTH.TOKEN] = `Bearer ${get(Config.AUTH.TOKEN)}`;\n  }\n\n  if (pms.axios) {\n    return requestHeaders;\n  }\n\n  return new Headers(requestHeaders);\n};\n\nexport {\n  getParam,\n  makeParams,\n  setHeaders\n};\n","const LOCAL_STORAGE = 'localStorage';\n\nconst get = () => 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE1NDgyNzM0MDcsImV4cCI6MTU0ODg3ODIwNywic3ViIjoiMTIifQ.T2lU8EXi5sZC4Xpt5X_XgOxzzCLt7rRvxDp2JLjKnLc'//key => window[LOCAL_STORAGE].getItem(key);\n\nconst put = (key, value) => {\n  window[LOCAL_STORAGE].setItem(key, value);\n};\n\nconst drop = (key) => {\n  window[LOCAL_STORAGE].removeItem(key);\n};\n\nconst clear = () => {\n  window[LOCAL_STORAGE].clear();\n};\n\nexport { put, get, drop, clear };\n","// ####### Declarations ##########\nimport axios from 'axios';\nimport { forEach } from 'lodash';\nimport { setHeaders } from '../../shared/utils/url';\nimport { omitEmptyPreserveNatural } from '../../shared/utils/helpers';\n\n// ####### Default Params ##########\nconst uploadPhotoDefaultParams = {\n  album_id: '',\n  name: '',\n  description: '',\n  photo: '',\n  color: '',\n  uri: null,\n};\n\n// ####### Api Endpoints ##########\nconst uploadPhoto = (pms = uploadPhotoDefaultParams, options = {}) => {\n  const { CancelToken } = axios;\n  const source = CancelToken.source();\n\n  const formData = new FormData();\n\n  forEach(omitEmptyPreserveNatural({ ...uploadPhotoDefaultParams, ...pms }), (v, k) => formData.append(k, v));\n\n  const request = axios({\n    url: 'https://devapi.imglish.com/photo/add',\n    method: 'POST',\n    headers: setHeaders({ axios: true, auth: true, multidata: true }),\n    data: formData,\n    cancelToken: source.token,\n    onUploadProgress: (progressEvent) => {\n      if (options.onUploadProgress) {\n        const { loaded: l, total: t } = progressEvent;\n        const loaded = Number(l);\n        const total = Number(t);\n\n        if (loaded && total) {\n          options.onUploadProgress(parseInt(loaded / total * 100, 10));\n        }\n      }\n    },\n  }).then(res => res.data);\n\n  return {\n    request,\n    source,\n  };\n}\n\nconst getPhoto = (pms = {\n  id: '',\n}) => fetch(`https://devapi.imglish.com/photo/${pms.id}`, {\n  method: 'GET',\n  headers: setHeaders(),\n}).then(res => res.json());\n\nconsole.log('setHeaders', setHeaders())\n\nconst createAlbum = (pms = {\n  name: '',\n  description: '',\n  uri: '',\n}) => fetch('https://devapi.imglish.com/album/create', {\n  method: 'POST',\n  headers: setHeaders(),\n  body: JSON.stringify(pms),\n}).then(res => res.json());\n\nconst getAlbum = (pms = {\n  id: '',\n}) => fetch(`https://devapi.imglish.com/album/${pms.id}`, {\n  method: 'GET',\n  headers: setHeaders(),\n}).then(res => res.json());\n\n// ####### Export ##########\nexport default {\n  uploadPhoto,\n  getPhoto,\n  createAlbum,\n  getAlbum\n};\n","import { forEach, mergeWith, isFunction, isNull, isUndefined } from 'lodash';\n\nconst units = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\nexport const toSize = (kb) => {\n  const x = kb * 1000;\n  let l = 0;\n  let n = parseInt(x, 10) || 0;\n\n  while (n >= 1024 && ++l) n /= 1024;\n  return (n.toFixed(n >= 10 || l < 1 ? 0 : 2) + ' ' + units[l]);\n};\n\nexport const multiFn = (fns, ...args) => {\n  if (fns) {\n    if (Array.isArray(fns)) {\n      fns.forEach(fn => fn(...args));\n    } else {\n      return fns(...args);\n    }\n  }\n};\n\nexport const mergeWithFnCustomizer = (objValue, srcValue) => {\n  if (isFunction(objValue) && isFunction(srcValue)) {\n    return (...args) => {\n      objValue(...args);\n      srcValue(...args);\n    };\n  }\n};\n\nexport const mergeWithFn = (object, source) => mergeWith(object, source, mergeWithFnCustomizer);\n\nexport const delayApi = (delay = 2000) => new Promise(((resolve) => {\n  setTimeout(resolve, delay);\n}));\n\nexport const toHex = (c) => {\n  const hex = c.toString(16);\n  return hex.length === 1 ? '0' + hex : hex;\n};\n\nexport const truncate = (value) => {\n  if (value < 0) return 0;\n  if (value > 255) return 255;\n\n  return value;\n};\n\nexport const rgbToHex = (r, g, b) => toHex(truncate(r)) + toHex(truncate(g)) + toHex(truncate(b));\n\nexport const hexToRgb = (hex) => {\n  const shortHex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  const longHex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n  let color = hex;\n\n  color = color.replace(shortHex, (m, r, g, b) => r + r + g + g + b + b);\n\n  const rgb = longHex.exec(color);\n\n  return rgb ? {\n    r: parseInt(rgb[1], 16),\n    g: parseInt(rgb[2], 16),\n    b: parseInt(rgb[3], 16)\n  } : null;\n};\n\nexport const isDefined = v => !isNull(v) && !isUndefined(v) && v !== '';\n\nexport const getContrastColor = (color) => {\n  const rgb = hexToRgb(color);\n\n  if ((rgb.r * 0.299 + rgb.g * 0.587 + rgb.b * 0.114) > 186) {\n    return '#000000';\n  }\n\n  return '#ffffff';\n};\n\n/**\n * Function will remove non defined primitive values from flat object\n *\n * - Preserved values: \"\", 0, [], {}, false\n * - Removed values: null, undefined\n * @returns modified object\n * */\nexport const omitEmptyPreserveNatural = (obj) => {\n  const newObj = {};\n\n  forEach(obj, (p, k) => {\n    if (p !== null && p !== undefined) {\n      newObj[k] = p;\n    }\n  });\n\n  return newObj;\n};\n","export default {\n  0: 'C1',\n  1: 'D1',\n  2: 'E1',\n  3: 'F1',\n  4: 'G1',\n  5: 'A1',\n  6: 'B1',\n  7: 'C2',\n  8: 'D2',\n  9: 'E2',\n  10: 'F2',\n  11: 'G2',\n  12: 'A2',\n  13: 'B2',\n  14: 'C3',\n  15: 'D3',\n  16: 'E3',\n  17: 'F3',\n  18: 'G3',\n  19: 'A3',\n  20: 'B3',\n  21: 'C4',\n  22: 'D4',\n  23: 'E4',\n  24: 'F4',\n  25: 'G4',\n  26: 'A4',\n  27: 'B4',\n  28: 'C5',\n  29: 'D5',\n  30: 'E5',\n  31: 'F5',\n  32: 'G5',\n  33: 'A5',\n  34: 'B5',\n  35: 'C6',\n  36: 'D6',\n  37: 'E6',\n  38: 'F6',\n  39: 'G6',\n  40: 'A6',\n  41: 'B6',\n  42: 'C7',\n  43: 'D7',\n  44: 'E7',\n  45: 'F7',\n  46: 'G7',\n  47: 'A7',\n  48: 'B7',\n};\n","// ####### Declarations ##########\nimport React from 'react';\nimport Tone from 'tone';\nimport styled from 'styled-components';\nimport { flattenDeep, forEach, map, size, random, indexOf, toArray, groupBy } from 'lodash';\nimport ShareApi from '../../core/api/share';\nimport octaves from '../../sources/octaves';\n\n// ####### Styled Components #############\nconst Octaves = styled.div`\n  position: relative;\n  width: ${window.innerWidth}px;\n  height: ${window.innerHeight}px;\n  background: #000;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n`;\nconst Title = styled.h1`\n  font-size: 5em;\n  margin: 0;\n  background-color: rgba(0, 0, 0, 0.7);\n  z-index: 10;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\nconst Title2 = styled.h1`\n  font-size: 3em;\n  color: inherit;\n`\nconst Title3 = styled.h1`\n  font-size: 3em;\n\n  &:after{\n    animation: changeLetter 120s linear infinite alternate;\n    content: 'Wait'\n  }\n`\nconst ColorBox = styled.div`\n  transform: scale(1.5);\n  margin: 0;\n  z-index: 1000;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  animation: color 1080s infinite ease-in-out both;\n`\nconst OctaveKey = styled.div`\n  // border-top-left-radius: ${() => random(0, size(octaves))}px;\n  // border-top-right-radius: ${() => random(0, size(octaves))}px;\n  // border-bottom-left-radius: ${() => random(0, size(octaves))}px;\n  // border-bottom-right-radius: ${() => random(0, size(octaves))}px;\n  width: ${(window.innerWidth) / (size(octaves) / 7)}px;\n  height: ${(window.innerHeight) / (size(octaves) / 7)}px;\n  color: transparent;\n  //color: #000;\n  font-size: 16px;\n  display: flex;\n  background-color: #000;\n  // background-color: ${props => (props.play ? '#ff0007ab' : 'transparent')};\n  justify-content: center;\n  align-items: center;\n  transition: all ease-in 0.2s;\n\n  // :nth-of-type(2n){\n  //   background-color: #967171\n  // }\n`;\nconst Btn = styled.div`\n  background: transparent;\n  opacity: 0;\n  padding: 12px 18px;\n  border-radius: 5px;\n  color: rgb(255, 255, 255);\n  font-weight: 400;\n  position: fixed;\n  z-index: 100;\n  bottom: 20px;\n  left: 50%;\n  transform: translatex(-50%);\n  margin: auto;\n  display: inline-block;\n  border: solid 1px;\n`;\nconst I = styled.span`\n  border: solid 2px;\n  animation: cooolor 1080s infinite ease-in-out both;\n  padding: 9px 16px;\n  border-radius: 30px;\n  display: inline-block;\n  filter: invert(1);\n  margin: 0 10px;\n`\nconst II = styled.span`\n`\n\n// ####### Helpers ##########\nconst colorArray = [\n  '#FF6633', '#FFB399', '#FF33FF', '#FFFF99', '#00B3E6',\n  '#E6B333', '#3366E6', '#999966', '#99FF99', '#B34D4D',\n  '#80B300', '#809900', '#E6B3B3', '#6680B3', '#66991A',\n  '#FF99E6', '#CCFF1A', '#FF1A66', '#E6331A', '#33FFCC',\n  '#66994D', '#B366CC', '#4D8000', '#B33300', '#CC80CC',\n  '#66664D', '#991AFF', '#E666FF', '#4DB3FF', '#1AB399',\n  '#E666B3', '#33991A', '#CC9999', '#B3B31A', '#00E680',\n  '#4D8066', '#809980', '#E6FF80', '#1AFF33', '#999933',\n  '#FF3380', '#CCCC00', '#66E64D', '#4D80CC', '#9900B3',\n  '#E64D66', '#4DB380', '#FF4D4D', '#99E6E6', '#6666FF',\n];\n\nconst asyncForEach = async (array, callback) => {\n  for (let index = 0; index < array.length; index += 1) {\n    await callback(array[index], index, array); // eslint-disable-line\n  }\n};\n\n// ####### Functions ##########\nconst synth = new Tone.Synth().toMaster();\n\n// ####### Composing view ##########\n\nclass Notes extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      data: null,\n      wait: false,\n    }\n\n    this.fetchNotes = this.fetchNotes.bind(this)\n    this.playSequence = this.playSequence.bind(this)\n  }\n\n  playSequence() {\n    Tone.Transport.stop();\n  \n    const notes = [];\n  \n    const getToneTime = (note = '4n') => {\n      let notetime = 0;\n  \n      notes.forEach((n) => {\n        notetime += n;\n      });\n  \n      notes.push(note);\n  \n      console.log('notetime', notetime);\n  \n      return notetime;\n    };\n  \n    const play = (o, n, d) => {\n      Tone.Transport.schedule((time) => {\n        synth.triggerAttackRelease(o, n, time);\n        Tone.Draw.schedule(() => {\n          document.getElementById('text').innerHTML = d;\n          document.getElementById('text').style.color = colorArray[indexOf(toArray(octaves), o)];\n          document.getElementById(o).style.backgroundColor = colorArray[indexOf(toArray(octaves), o)];\n        }, time);\n  \n        Tone.Draw.schedule(() => {\n          document.getElementById(o).style.backgroundColor = '';\n        }, time + Tone.Time(n).toSeconds());\n      }, getToneTime(n));\n    };\n  \n    forEach(groupBy(this.state.data, 'index'), (group) => {\n      forEach(group, (m) => {\n        const { octave, note, description } = m;\n        play(octave, note, description);\n      })\n    })\n  \n    Tone.Transport.schedule(() => {\n      window.location.reload();\n    }, getToneTime() + Tone.Time('1n').toSeconds());\n  \n    Tone.Transport.start();\n  }\n\n  async fetchNotes () {\n    if (!window.code) {\n      this.setState({ \n        wait: false,\n        data: null\n      })\n\n      return false;\n    }\n\n    this.setState({\n      wait: true\n    })\n\n    const data = [];\n    const album = await ShareApi.getAlbum({ id: window.code })\n\n    await asyncForEach(album.message.photos, async (photo) => {\n      const notesData = await fetch(`${process.env.REACT_APP_API_URL}?photoID=${photo.id}&imageURI=${encodeURIComponent(photo.file.path)}`)\n      const notes = await notesData.json();\n      data.push(notes);\n    });\n\n    this.setState({\n      wait: false,\n      data: map(flattenDeep(data), (note) => {\n        if (!note.octave) {\n          note.octave = \"C4\"\n        }\n\n        return note\n      })\n    })\n  };\n\n  getWelcome() {\n    if (this.state.wait) {\n      return <ColorBox><Title3 /></ColorBox>\n    }\n\n    return (\n      <ColorBox>\n        <Title2>SCAN YOUR TICKET TO PLAY</Title2>\n        <p style={{ fontSize: '1.5em' }}>\n          To get ticket, go to\n          <I><II>bit.ly/digdom</II></I>\n          on your mobile device\n        </p>\n      </ColorBox> \n    )\n  }\n\n  componentDidUpdate() {\n    if (this.state.data) {\n      this.playSequence();\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.data ? null : this.getWelcome()}\n        <Btn type=\"button\" onClick={this.fetchNotes} />\n        <Title id=\"text\" />\n        <Octaves>\n          {map(octaves, (octave, i) => (\n            <OctaveKey type=\"tone\" id={octave} key={octave} octave={octave} color={colorArray[i]}>{octave}</OctaveKey>\n          ))}\n        </Octaves>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Notes;\n","import { BrowserQRCodeReader } from '@zxing/library';\n\nconst codeReader = new BrowserQRCodeReader();\n\nwindow.code = null;\n\nconst scan = async () => {\n  const result = await codeReader.decodeFromInputVideoDevice(undefined, 'qr');\n  window.code = parseInt(result.text, 10);\n  document.querySelector('[type=\"button\"]').click();\n  codeReader.reset();\n};\n\nwindow.scan = scan;\n\nexport default scan;\n","import React from 'react';\n\nexport const DropZoneContext = React.createContext();\n\nconst withDropZoneContext = Component => props => (\n  <DropZoneContext.Consumer>\n    {context => <Component {...props} dropzoneContext={context} />}\n  </DropZoneContext.Consumer>\n);\n\nexport {\n  withDropZoneContext\n};\n","/**\n * FUSe.js - JavaScript Files Upload Service\n *\n * Copyright by (c) Szymon Pajka 2018\n * v. 0.1.0\n *\n * This is the Imglish files upload service, responsible for:\n *\n * - keeping state of all ongoing uploads\n * - uploading files to correct destination\n * - working out of the box (not being interupted by route change)\n */\n\n// ####### Declarations ##########\nimport Api from '../../core/api/share';\nimport axios from 'axios';\nimport { groupBy, forEach, remove, take, find, isFunction, has } from 'lodash';\n\n// ####### Defaults ##########\nconst CONSTS = {\n  NEW_ALBUM: 'NEW_ALBUM',\n  FILES_PER_UPLOAD: 1,\n  STATUS: {\n    ERROR: 'ERROR',\n    PAUSED: 'PAUSED',\n    PENDING: 'PENDING',\n    ONGOING: 'ONGOING',\n    ABORTED: 'ABORTED',\n    UPLOADED: 'UPLOADED'\n  }\n};\n\nconst globalState = {\n  files: [],\n  newAlbumID: null\n};\n\nconst populators = {};\n\nwindow.aaa = {\n  getState: () => globalState,\n  getGrouped: () => groupBy(globalState.files, 'state.status')\n};\n\n// ####### Helpers ##########\nconst sanitizeRoutePath = (routePath) => {\n  const albumRegex = /(\\/album\\/)(\\d*)/;\n  const route = routePath;\n\n  if (route === '/404') {\n    return null;\n  }\n\n  if (albumRegex.test(route)) {\n    return albumRegex.exec(route)[2];\n  }\n\n  return CONSTS.NEW_ALBUM;\n};\n\nclass FileUploader {\n  constructor(props) {\n    const { file, route, ...restParams } = props;\n\n    this.state = {\n      file,\n      route,\n      buffer: false,\n      remoteFile: null,\n      uploadedAt: null,\n      responceMessage: null,\n      status: CONSTS.STATUS.PENDING\n    };\n\n    this.props = restParams;\n\n    this.uploadFile = this.uploadFile.bind(this);\n    this.changeStatus = this.changeStatus.bind(this);\n    this.registerUpload = this.registerUpload.bind(this);\n    this.unregisterUpload = this.unregisterUpload.bind(this);\n    this.removeFileFromBuffer = this.removeFileFromBuffer.bind(this);\n  }\n\n  changeStatus(nextStatus, msg) {\n    this.state.status = CONSTS.STATUS[nextStatus] || this.state.status;\n\n    if (msg) {\n      this.state.responceMessage = msg;\n    }\n  }\n\n  registerUpload() {\n    this.changeStatus(CONSTS.STATUS.ONGOING);\n  }\n\n  unregisterUpload(status) {\n    this.changeStatus(status);\n    this.props.uploadFiles();\n  }\n\n  removeFileFromBuffer() {\n    remove(globalState.files, f => f.state.file.fid === this.state.file.fid);\n    this.props.uploadFiles();\n  }\n\n  async uploadFile() {\n    const { file, route } = this.state;\n    // const { color, reader } = this.state.fileData;\n\n    let albumID = route;\n\n    if (route === CONSTS.NEW_ALBUM) {\n      if (!globalState.newAlbumID) {\n        const res = await Api.createAlbum({ name: 'New Album', description: '' });\n        globalState.newAlbumID = res.message.id;\n\n        this.props.populateChanges('qqqqq');\n      }\n\n      albumID = globalState.newAlbumID;\n    }\n\n    const { request, source } = Api.uploadPhoto({\n      album_id: albumID,\n      name: file.name,\n      // photo: reader.result,\n      photo: file,\n      // color: rgbToHex(color.r, color.g, color.b)\n      color: ''\n    }, {\n      onUploadProgress: (progress) => {\n        if (this.onUploadProgress && isFunction(this.onUploadProgress)) {\n          this.onUploadProgress(progress);\n        }\n      }\n    });\n\n    this.cancelUpload = () => {\n      const canCancel = this.state.uploadedAt ? new Date() - this.state.uploadedAt < 140 : true;\n\n      if (canCancel) {\n        if (this.state.status === CONSTS.STATUS.ONGOING) {\n          source.cancel();\n          this.removeFileFromBuffer();\n          return Promise.resolve();\n        }\n\n        if (this.state.remoteFile) {\n          return Api.deletePhoto({\n            id: this.state.remoteFile.id\n          }).then(() => {\n            this.removeFileFromBuffer();\n          });\n        }\n      } else {\n        this.removeFileFromBuffer();\n      }\n\n      return Promise.resolve();\n    };\n\n    this.pauseUpload = () => {\n      const prevStatus = this.state.status;\n\n      this.changeStatus(CONSTS.STATUS.PAUSED);\n\n      if (prevStatus === CONSTS.STATUS.ONGOING) {\n        source.cancel();\n        return Promise.resolve();\n      }\n\n      if (this.state.remoteFile) {\n        return Api.deletePhoto({\n          id: this.state.remoteFile.id\n        });\n      }\n\n      return Promise.resolve();\n    };\n\n    request.then((res) => {\n      if (res.success) {\n        this.state.uploadedAt = new Date();\n        this.state.remoteFile = res.message;\n        this.unregisterUpload(CONSTS.STATUS.UPLOADED);\n\n        this.props.populateChanges('aaaa');\n\n        if (this.onUploadSuccess && isFunction(this.onUploadSuccess)) {\n          this.onUploadSuccess();\n        }\n      } else {\n        this.unregisterUpload(CONSTS.STATUS.ERROR, res.message);\n      }\n    }).catch((thrown) => {\n      axios.isCancel(thrown);\n    });\n  }\n\n  upload() {\n    this.registerUpload();\n    this.uploadFile();\n  }\n}\n\n// ####### Main Class ##########\nclass UploadService {\n  // constructor(dropzoneProps) {\n  constructor(props) {\n    this.state = {\n      uploadPerSession: CONSTS.FILES_PER_UPLOAD,\n      bufferPerSession: CONSTS.BUFFER_PER_UPLOAD\n    };\n\n    this.props = props;\n    // this.props = dropzoneProps;\n\n    this.push = this.push.bind(this);\n    this.clearAll = this.clearAll.bind(this);\n    this.cancelFile = this.cancelFile.bind(this);\n    // this.updateProps = this.updateProps.bind(this);\n    this.uploadFiles = this.uploadFiles.bind(this);\n    this.pauseUpload = this.pauseUpload.bind(this);\n    this.clearUpload = this.clearUpload.bind(this);\n    this.resumeUpload = this.resumeUpload.bind(this);\n    this.getGlobalState = this.getGlobalState.bind(this);\n    this.populateChanges = this.populateChanges.bind(this);\n    this.countUploadedFiles = this.countUploadedFiles.bind(this);\n    this.registerSubscriberPopulator = this.registerSubscriberPopulator.bind(this);\n    this.unregisterSubscriberPopulator = this.unregisterSubscriberPopulator.bind(this);\n  }\n\n  populateChanges(t) {\n    forEach(populators, populate => populate(t));\n  }\n\n  uploadFiles() {\n    const { files } = globalState;\n    const { uploadPerSession } = this.state;\n    const filesByStatus = groupBy(files, 'state.status');\n    const ongoingUpload = filesByStatus[CONSTS.STATUS.ONGOING] || [];\n\n    console.log(filesByStatus);\n\n    if (ongoingUpload.length < uploadPerSession) {\n      forEach(take(filesByStatus[CONSTS.STATUS.PENDING], uploadPerSession), file => file.upload());\n    }\n  }\n\n  push(files) {\n    // const { pathname } = this.props.location;\n    const { pathname } = window.location;\n    const { uploadFiles, populateChanges } = this;\n    const route = sanitizeRoutePath(pathname);\n\n    if (!route) return;\n\n    globalState.files.push(...files.map(file => new FileUploader({ file, route, uploadFiles, populateChanges })));\n\n    populateChanges();\n    this.uploadFiles();\n  }\n\n  // updateProps(nextProps) {\n  //   this.props = nextProps;\n  // }\n\n  cancelFile(fid) {\n    const file = find(globalState.files, f => f.state.file.fid === fid);\n\n    if (has(file, 'cancelUpload')) {\n      return file.cancelUpload();\n    }\n\n    remove(globalState.files, f => f.state.file.fid === fid);\n    return Promise.resolve();\n  }\n\n  getGlobalState() {\n    return globalState;\n  }\n\n  countUploadedFiles() {\n    const { files } = globalState;\n    const filesByStatus = groupBy(files, 'state.status');\n\n    return [(filesByStatus[CONSTS.STATUS.UPLOADED] || []).length];\n  }\n\n  pauseUpload() {\n    const { files } = globalState;\n    const filesByStatus = groupBy(files, 'state.status');\n    const ongoingUpload = filesByStatus[CONSTS.STATUS.ONGOING] || [];\n\n    forEach(ongoingUpload, (file) => {\n      if (has(file, 'pauseUpload')) {\n        file.pauseUpload();\n      }\n    });\n  }\n\n  resumeUpload() {\n    const { files } = globalState;\n    const filesByStatus = groupBy(files, 'state.status');\n    const pausedUpload = filesByStatus[CONSTS.STATUS.PAUSED] || [];\n\n    forEach(pausedUpload, (file) => {\n      file.upload();\n    });\n  }\n\n  clearUpload() {\n    const { files } = globalState;\n    const filesByStatus = groupBy(files, 'state.status');\n    const pausedUpload = filesByStatus[CONSTS.STATUS.UPLOADED] || [];\n\n    forEach(pausedUpload, (file) => {\n      remove(globalState.files, f => f.state.file.fid === file.state.file.fid);\n    });\n  }\n\n  clearAll() {\n    this.pauseUpload();\n    globalState.files = [];\n  }\n\n  registerSubscriberPopulator(populator) {\n    const key = Math.random().toString(36).substr(2, 9);\n    populators[key] = populator;\n    return key;\n  }\n\n  unregisterSubscriberPopulator(key) {\n    delete populators[key];\n  }\n}\n\n// ####### Export ##########\nexport default UploadService;\n","import React from 'react';\nimport styled from 'styled-components'\nimport { DropZoneContext } from '../../core/context';\nimport UploadService from '../../services/UploadService/UploadService';\n\nconst Box = styled.div`\n  width: 100%;\n  color: #fff;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\nconst AddPhotos = styled.button`\n  border-radius: 50px;\n  border: 0;\n  height: 52px;\n  width: ${props => props.small ? '50%' : '100%'};\n  padding: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  color: #000000;\n  background: #E5F77D;\n  font-size: 1.2rem;\n`\nconst GetQR = styled.button`\n  border-radius: 50px;\n  border: 0;\n  height: 52px;\n  width: 100%;\n  padding: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  color: #000000;\n  background: #7BC950;\n  font-size: 1.2rem;\n`\nconst ButtonsBox = styled.div`\n  display: flex;\n  position: fixed;\n  padding: 12px;\n  padding-bottom: 18px\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n`\nconst Separator = styled.div`\n  width: 0;\n  margin-left: 12px;\n`\nconst QRCODE = styled.img`\n  max-width: 100%;\n  left: 0;\n  right: 0;\n  top: 44px;\n  margin: auto;\n  position: absolute;\n  border: solid 20px #fff;\n  box-sizing: border-box;\n`\nconst Info = styled.h3`\n  color: #fff;\n  margin: 0;\n  text-align: center;\n  padding: 12px 6px;\n  font-size: 0.875rem;\n`\nconst Back = styled.button`\n  background: none;\n  color: #fff;\n  border: none;\n  font-size: 1rem;\n  text-align: right;\n  white-space: nowrap;\n`\nconst UploadBox = styled.div`\n  width: 100%;\n  height: 80%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 3rem;\n`\n\nclass UserEnd extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      qr: false\n    }\n\n    this.fuse = new UploadService();\n    this.fuseID = this.fuse.registerSubscriberPopulator(() => this.forceUpdate());\n\n    this.addPhotos = this.addPhotos.bind(this)\n    this.generateQR = this.generateQR.bind(this)\n    this.getQR = this.getQR.bind(this)\n    this.getView = this.getView.bind(this)\n    this.getUploadStats = this.getUploadStats.bind(this)\n  }\n  \n  addPhotos(pms = {}) {\n    return <AddPhotos small={pms.small} onClick={() => this.dropZoneContext.dropzoneRef.current.open()} tabIndex=\"0\" type=\"button\">{pms.small ? '+ Add' : '+ Add Photos'}</AddPhotos>\n  }\n\n  generateQR() {\n    document.getElementById(\"qrcode\").innerHTML = ''\n\n    const qrcode = new window.QRCode(document.getElementById(\"qrcode\"), {\n      text: this.fuse.getGlobalState().newAlbumID,\n      width: 512,\n      height: 512,\n      colorDark : \"#000000\",\n      colorLight : \"#ffffff\",\n      correctLevel : window.QRCode.CorrectLevel.H\n    });\n\n    setTimeout(() => {\n      this.setState({\n        qr: qrcode._el.querySelector('img').src\n      })\n    }, 178)\n  }\n\n  getQR() {\n    return <GetQR onClick={() => this.generateQR()} tabIndex=\"0\" type=\"button\">Get your ticket</GetQR>     \n  }\n\n  goBack() {\n    const goback = () => {\n      window.location.reload()\n    }\n\n    return <Back onClick={goback} tabIndex=\"0\" type=\"button\"> ← Start again</Back>  \n  }\n\n  getUploadStats() {\n    const { files } = this.fuse.getGlobalState();\n    const [uploadedFiles] = this.fuse.countUploadedFiles();\n    return (\n      <UploadBox>\n        <div class=\"sk-fading-circle\" style={{ display: uploadedFiles - files.length ? 'block' : 'none'}}>\n          <div class=\"sk-circle1 sk-circle\"></div>\n          <div class=\"sk-circle2 sk-circle\"></div>\n          <div class=\"sk-circle3 sk-circle\"></div>\n          <div class=\"sk-circle4 sk-circle\"></div>\n          <div class=\"sk-circle5 sk-circle\"></div>\n          <div class=\"sk-circle6 sk-circle\"></div>\n          <div class=\"sk-circle7 sk-circle\"></div>\n          <div class=\"sk-circle8 sk-circle\"></div>\n          <div class=\"sk-circle9 sk-circle\"></div>\n          <div class=\"sk-circle10 sk-circle\"></div>\n          <div class=\"sk-circle11 sk-circle\"></div>\n          <div class=\"sk-circle12 sk-circle\"></div>\n        </div>\n        {`${uploadedFiles}/${files.length}`}\n      </UploadBox>\n    )\n  }\n\n  getView() {\n    if (this.state.qr) {\n      return (\n        <React.Fragment>\n          <Info>Scan your ticket to play music</Info>\n          <QRCODE src={this.state.qr} />\n          <ButtonsBox style={{flexDirection: 'row-reverse'}}>{this.goBack()}</ButtonsBox>\n        </React.Fragment>\n      )\n    }\n\n    if (this.fuse.getGlobalState().files.length) {\n      return (\n        <React.Fragment>\n          {this.getUploadStats()}\n          <ButtonsBox>\n            {this.addPhotos({ small: true })}\n            <Separator />\n            {this.getQR()}\n          </ButtonsBox>\n        </React.Fragment>\n      )\n    }\n  \n    return <ButtonsBox>{this.addPhotos()}</ButtonsBox>\n  }\n\n  componentWillUnmount() {\n    this.fuse.unregisterSubscriberPopulator(this.fuseID);\n  }\n\n  render () {\n    return (\n      <DropZoneContext.Consumer>\n        {(context) => {\n          this.dropZoneContext = context;\n\n          return (\n            <React.Fragment>\n              {this.getView()}\n            </React.Fragment>\n          )\n        }}\n      </DropZoneContext.Consumer>\n    )\n  }\n}\n\nexport default UserEnd;\n","import accepts from 'attr-accept';\n\nexport const supportMultiple = typeof document !== 'undefined' && document && document.createElement\n  ? 'multiple' in document.createElement('input')\n  : true;\n\nexport function getDataTransferItems(event) {\n  let dataTransferItemsList = [];\n  if (event.dataTransfer) {\n    const dt = event.dataTransfer;\n    if (dt.files && dt.files.length) {\n      dataTransferItemsList = dt.files;\n    } else if (dt.items && dt.items.length) {\n      // During the drag even the dataTransfer.files is null\n      // but Chrome implements some drag store, which is accesible via dataTransfer.items\n      dataTransferItemsList = dt.items;\n    }\n  } else if (event.target && event.target.files) {\n    dataTransferItemsList = event.target.files;\n  }\n  // Convert from DataTransferItemsList to the native Array\n  return Array.prototype.slice.call(dataTransferItemsList);\n}\n\n// Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\n// that MIME type will always be accepted\nexport function fileAccepted(file, accept) {\n  return file.type === 'application/x-moz-file' || accepts(file, accept);\n}\n\nexport function fileMatchSize(file, maxSize, minSize) {\n  return file.size <= maxSize && file.size >= minSize;\n}\n\nexport function allFilesAccepted(files, accept) {\n  return files.every(file => fileAccepted(file, accept));\n}\n\n// allow the entire document to be a drag target\nexport function onDocumentDragOver(evt) {\n  evt.preventDefault();\n}\n\nfunction isIe(userAgent) {\n  return userAgent.indexOf('MSIE') !== -1 || userAgent.indexOf('Trident/') !== -1;\n}\n\nfunction isEdge(userAgent) {\n  return userAgent.indexOf('Edge/') !== -1;\n}\n\nexport function isIeOrEdge(userAgent = window.navigator.userAgent) {\n  return isIe(userAgent) || isEdge(userAgent);\n}\n","export default {\n  rejected: {\n    borderStyle: 'solid',\n    borderColor: '#c66',\n    backgroundColor: '#eee'\n  },\n  disabled: {\n    opacity: 0.5\n  },\n  active: {\n    borderStyle: 'solid',\n    borderColor: '#6c6',\n    backgroundColor: '#eee'\n  },\n  default: {\n    width: 200,\n    height: 200,\n    borderWidth: 2,\n    borderColor: '#666',\n    borderStyle: 'dashed',\n    borderRadius: 5\n  }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  supportMultiple,\n  fileAccepted,\n  allFilesAccepted,\n  fileMatchSize,\n  onDocumentDragOver,\n  getDataTransferItems,\n  isIeOrEdge\n} from './utils';\nimport styles from './utils/styles';\n\nclass Dropzone extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      draggedFiles: [],\n      acceptedFiles: [],\n      rejectedFiles: []\n    };\n\n    this.setRef = this.setRef.bind(this);\n    this.setRefs = this.setRefs.bind(this);\n\n    this.isFileDialogActive = false;\n\n    this.composeHandlers = this.composeHandlers.bind(this);\n    this.onClick = this.onClick.bind(this);\n    this.onDocumentDrop = this.onDocumentDrop.bind(this);\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onDragOver = this.onDragOver.bind(this);\n    this.onDragStart = this.onDragStart.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    this.onFileDialogCancel = this.onFileDialogCancel.bind(this);\n    this.onInputElementClick = this.onInputElementClick.bind(this);\n  }\n\n  componentDidMount() {\n    const { preventDropOnDocument } = this.props;\n    this.dragTargets = [];\n\n    if (preventDropOnDocument) {\n      document.addEventListener('dragover', onDocumentDragOver, false);\n      document.addEventListener('drop', this.onDocumentDrop, false);\n    }\n\n    this.fileInputEl.addEventListener('click', this.onInputElementClick, false);\n\n    window.addEventListener('focus', this.onFileDialogCancel, false);\n  }\n\n  componentWillUnmount() {\n    const { preventDropOnDocument } = this.props;\n\n    if (preventDropOnDocument) {\n      document.removeEventListener('dragover', onDocumentDragOver);\n      document.removeEventListener('drop', this.onDocumentDrop);\n    }\n\n    if (this.fileInputEl != null) {\n      this.fileInputEl.removeEventListener('click', this.onInputElementClick, false);\n    }\n\n    window.removeEventListener('focus', this.onFileDialogCancel, false);\n  }\n\n  composeHandlers(handler) {\n    if (this.props.disabled) {\n      return null;\n    }\n\n    return handler;\n  }\n\n  onDocumentDrop(evt) {\n    if (this.node && this.node.contains(evt.target)) {\n      // if we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n      return;\n    }\n    evt.preventDefault();\n    this.dragTargets = [];\n  }\n\n  onDragStart(evt) {\n    if (this.props.onDragStart) {\n      this.props.onDragStart.call(this, evt);\n    }\n  }\n\n  onDragEnter(evt) {\n    evt.preventDefault();\n\n    // Count the dropzone and any children that are entered.\n    if (this.dragTargets.indexOf(evt.target) === -1) {\n      this.dragTargets.push(evt.target);\n    }\n\n    this.setState({\n      isDragActive: true, // Do not rely on files for the drag state. It doesn't work in Safari.\n      draggedFiles: getDataTransferItems(evt)\n    });\n\n    if (this.props.onDragEnter) {\n      this.props.onDragEnter.call(this, evt);\n    }\n  }\n\n  onDragOver(evt) {\n    // eslint-disable-line class-methods-use-this\n    evt.preventDefault();\n    evt.stopPropagation();\n\n    try {\n      // The file dialog on Chrome allows users to drag files from the dialog onto\n      // the dropzone, causing the browser the crash when the file dialog is closed.\n      // A drop effect of 'none' prevents the file from being dropped\n      evt.dataTransfer.dropEffect = this.isFileDialogActive ? 'none' : 'copy'; // eslint-disable-line no-param-reassign\n    } catch (err) {\n      // continue regardless of error\n    }\n\n    if (this.props.onDragOver) {\n      this.props.onDragOver.call(this, evt);\n    }\n    return false;\n  }\n\n  onDragLeave(evt) {\n    evt.preventDefault();\n\n    // Only deactivate once the dropzone and all children have been left.\n    this.dragTargets = this.dragTargets.filter(el => el !== evt.target && this.node.contains(el));\n    if (this.dragTargets.length > 0) {\n      return;\n    }\n\n    // Clear dragging files state\n    this.setState({\n      isDragActive: false,\n      draggedFiles: []\n    });\n\n    if (this.props.onDragLeave) {\n      this.props.onDragLeave.call(this, evt);\n    }\n  }\n\n  onDrop(evt) {\n    const { onDrop, onDropAccepted, onDropRejected, multiple, accept } = this.props;\n    const fileList = getDataTransferItems(evt);\n    const acceptedFiles = [];\n    const rejectedFiles = [];\n\n    // Stop default browser behavior\n    evt.preventDefault();\n\n    // Reset the counter along with the drag on a drop.\n    this.dragTargets = [];\n    this.isFileDialogActive = false;\n\n    fileList.forEach((file) => {\n      // if (!disablePreview) {\n      //   try {\n      //     file.preview = window.URL.createObjectURL(file); // eslint-disable-line no-param-reassign\n      //   } catch (err) {\n      //     if (process.env.NODE_ENV !== 'production') {\n      //       console.error('Failed to generate preview for file', file, err); // eslint-disable-line no-console\n      //     }\n      //   }\n      // }\n\n      file.fid = (Math.random().toString(36).substr(2, 9) + Math.random().toString(36).substr(2, 9)); // eslint-disable-line no-param-reassign\n\n      if (\n        fileAccepted(file, accept)\n        && fileMatchSize(file, this.props.maxSize, this.props.minSize)\n      ) {\n        acceptedFiles.push(file);\n      } else {\n        rejectedFiles.push(file);\n      }\n    });\n\n    if (!multiple) {\n      // if not in multi mode add any extra accepted files to rejected.\n      // This will allow end users to easily ignore a multi file drop in \"single\" mode.\n      rejectedFiles.push(...acceptedFiles.splice(1));\n    }\n\n    if (onDrop) {\n      onDrop.call(this, acceptedFiles, rejectedFiles, evt);\n    }\n\n    if (rejectedFiles.length > 0 && onDropRejected) {\n      onDropRejected.call(this, rejectedFiles, evt);\n    }\n\n    if (acceptedFiles.length > 0 && onDropAccepted) {\n      onDropAccepted.call(this, acceptedFiles, evt);\n    }\n\n    // Clear files value\n    this.draggedFiles = null;\n\n    // Reset drag state\n    this.setState({\n      isDragActive: false,\n      draggedFiles: [],\n      acceptedFiles,\n      rejectedFiles\n    });\n  }\n\n  onClick(evt) {\n    const { onClick, disableClick } = this.props;\n    if (!disableClick) {\n      evt.stopPropagation();\n\n      if (onClick) {\n        onClick.call(this, evt);\n      }\n\n      // in IE11/Edge the file-browser dialog is blocking, ensure this is behind setTimeout\n      // this is so react can handle state changes in the onClick prop above above\n      // see: https://github.com/react-dropzone/react-dropzone/issues/450\n      if (isIeOrEdge()) {\n        setTimeout(this.open.bind(this), 0);\n      } else {\n        this.open();\n      }\n    }\n  }\n\n  onInputElementClick(evt) {\n    evt.stopPropagation();\n    if (this.props.inputProps && this.props.inputProps.onClick) {\n      this.props.inputProps.onClick();\n    }\n  }\n\n  onFileDialogCancel() {\n    // timeout will not recognize context of this method\n    const { onFileDialogCancel } = this.props;\n    // execute the timeout only if the FileDialog is opened in the browser\n    if (this.isFileDialogActive) {\n      setTimeout(() => {\n        if (this.fileInputEl != null) {\n          // Returns an object as FileList\n          const { files } = this.fileInputEl;\n\n          if (!files.length) {\n            this.isFileDialogActive = false;\n          }\n        }\n\n        if (typeof onFileDialogCancel === 'function') {\n          onFileDialogCancel();\n        }\n      }, 300);\n    }\n  }\n\n  setRef(ref) {\n    this.node = ref;\n  }\n\n  setRefs(ref) {\n    this.fileInputEl = ref;\n  }\n\n  /**\n   * Open system file upload dialog.\n   *\n   * @public\n   */\n  open() {\n    this.isFileDialogActive = true;\n    this.fileInputEl.value = null;\n    this.fileInputEl.click();\n  }\n\n  renderChildren(children, isDragActive, isDragAccept, isDragReject) {\n    if (typeof children === 'function') {\n      return children({\n        ...this.state,\n        isDragActive,\n        isDragAccept,\n        isDragReject\n      });\n    }\n    return children;\n  }\n\n  render() {\n    const {\n      accept,\n      acceptClassName,\n      activeClassName,\n      children,\n      disabled,\n      disabledClassName,\n      inputProps,\n      multiple,\n      name,\n      rejectClassName,\n      ...rest\n    } = this.props;\n\n    let {\n      acceptStyle,\n      activeStyle,\n      className = '',\n      disabledStyle,\n      rejectStyle,\n      style,\n      ...props // eslint-disable-line prefer-const\n    } = rest;\n\n    const { isDragActive, draggedFiles } = this.state;\n    const filesCount = draggedFiles.length;\n    const isMultipleAllowed = multiple || filesCount <= 1;\n    const isDragAccept = filesCount > 0 && allFilesAccepted(draggedFiles, this.props.accept);\n    const isDragReject = filesCount > 0 && (!isDragAccept || !isMultipleAllowed);\n    const noStyles = !className && !style && !activeStyle && !acceptStyle && !rejectStyle && !disabledStyle;\n\n    if (isDragActive && activeClassName) {\n      className += ' ' + activeClassName;\n    }\n    if (isDragAccept && acceptClassName) {\n      className += ' ' + acceptClassName;\n    }\n    if (isDragReject && rejectClassName) {\n      className += ' ' + rejectClassName;\n    }\n    if (disabled && disabledClassName) {\n      className += ' ' + disabledClassName;\n    }\n\n    if (noStyles) {\n      style = styles.default;\n      activeStyle = styles.active;\n      acceptStyle = styles.active;\n      rejectStyle = styles.rejected;\n      disabledStyle = styles.disabled;\n    }\n\n    let appliedStyle = { position: 'relative', ...style };\n    if (activeStyle && isDragActive) {\n      appliedStyle = {\n        ...appliedStyle,\n        ...activeStyle\n      };\n    }\n    if (acceptStyle && isDragAccept) {\n      appliedStyle = {\n        ...appliedStyle,\n        ...acceptStyle\n      };\n    }\n    if (rejectStyle && isDragReject) {\n      appliedStyle = {\n        ...appliedStyle,\n        ...rejectStyle\n      };\n    }\n    if (disabledStyle && disabled) {\n      appliedStyle = {\n        ...appliedStyle,\n        ...disabledStyle\n      };\n    }\n\n    const inputAttributes = {\n      accept,\n      disabled,\n      type: 'file',\n      style: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        opacity: 0.00001,\n        pointerEvents: 'none',\n        ...inputProps.style\n      },\n      multiple: supportMultiple && multiple,\n      ref: this.setRefs,\n      onChange: this.onDrop,\n      autoComplete: 'off'\n    };\n\n    if (name && name.length) {\n      inputAttributes.name = name;\n    }\n\n    // Destructure custom props away from props used for the div element\n    const {\n      acceptedFiles,\n      preventDropOnDocument,\n      disablePreview,\n      disableClick,\n      onDropAccepted,\n      onDropRejected,\n      onFileDialogCancel,\n      maxSize,\n      minSize,\n      ...divProps\n    } = props;\n\n    return (\n      /* eslint-disable */\n      <div\n        className={className}\n        style={appliedStyle}\n        {...divProps /* expand user provided props first so event handlers are never overridden */}\n        onClick={this.composeHandlers(this.onClick)}\n        onDragStart={this.composeHandlers(this.onDragStart)}\n        onDragEnter={this.composeHandlers(this.onDragEnter)}\n        onDragOver={this.composeHandlers(this.onDragOver)}\n        onDragLeave={this.composeHandlers(this.onDragLeave)}\n        onDrop={this.composeHandlers(this.onDrop)}\n        ref={this.setRef}\n        aria-disabled={disabled}\n      >\n        {this.renderChildren(children, isDragActive, isDragAccept, isDragReject)}\n        <input\n          {...inputProps /* expand user provided inputProps first so inputAttributes override them */}\n          {...inputAttributes}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Dropzone;\n\nDropzone.propTypes = {\n  /**\n   * Allow specific types of files. See https://github.com/okonet/attr-accept for more information.\n   * Keep in mind that mime type determination is not reliable across platforms. CSV files,\n   * for example, are reported as text/plain under macOS but as application/vnd.ms-excel under\n   * Windows. In some cases there might not be a mime type set at all.\n   * See: https://github.com/react-dropzone/react-dropzone/issues/276\n   */\n  accept: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n\n  /**\n   * Contents of the dropzone\n   */\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n  /**\n   * Disallow clicking on the dropzone container to open file dialog\n   */\n  disableClick: PropTypes.bool,\n\n  /**\n   * Enable/disable the dropzone entirely\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Enable/disable preview generation\n   */\n  disablePreview: PropTypes.bool,\n\n  /**\n   * If false, allow dropped items to take over the current browser window\n   */\n  preventDropOnDocument: PropTypes.bool,\n\n  /**\n   * Pass additional attributes to the `<input type=\"file\"/>` tag\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Allow dropping multiple files\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * `name` attribute for the input tag\n   */\n  name: PropTypes.string,\n\n  /**\n   * Maximum file size (in bytes)\n   */\n  maxSize: PropTypes.number,\n\n  /**\n   * Minimum file size (in bytes)\n   */\n  minSize: PropTypes.number,\n\n  /**\n   * className\n   */\n  className: PropTypes.string,\n\n  /**\n   * className to apply when drag is active\n   */\n  activeClassName: PropTypes.string,\n\n  /**\n   * className to apply when drop will be accepted\n   */\n  acceptClassName: PropTypes.string,\n\n  /**\n   * className to apply when drop will be rejected\n   */\n  rejectClassName: PropTypes.string,\n\n  /**\n   * className to apply when dropzone is disabled\n   */\n  disabledClassName: PropTypes.string,\n\n  /**\n   * CSS styles to apply\n   */\n  style: PropTypes.object,\n\n  /**\n   * CSS styles to apply when drag is active\n   */\n  activeStyle: PropTypes.object,\n\n  /**\n   * CSS styles to apply when drop will be accepted\n   */\n  acceptStyle: PropTypes.object,\n\n  /**\n   * CSS styles to apply when drop will be rejected\n   */\n  rejectStyle: PropTypes.object,\n\n  /**\n   * CSS styles to apply when dropzone is disabled\n   */\n  disabledStyle: PropTypes.object,\n\n  /**\n   * onClick callback\n   * @param {Event} event\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * onDrop callback\n   */\n  onDrop: PropTypes.func,\n\n  /**\n   * onDropAccepted callback\n   */\n  onDropAccepted: PropTypes.func,\n\n  /**\n   * onDropRejected callback\n   */\n  onDropRejected: PropTypes.func,\n\n  /**\n   * onDragStart callback\n   */\n  onDragStart: PropTypes.func,\n\n  /**\n   * onDragEnter callback\n   */\n  onDragEnter: PropTypes.func,\n\n  /**\n   * onDragOver callback\n   */\n  onDragOver: PropTypes.func,\n\n  /**\n   * onDragLeave callback\n   */\n  onDragLeave: PropTypes.func,\n\n  /**\n   * Provide a callback on clicking the cancel button of the file dialog\n   */\n  onFileDialogCancel: PropTypes.func\n};\n\nDropzone.defaultProps = {\n  preventDropOnDocument: true,\n  disabled: false,\n  disablePreview: false,\n  disableClick: false,\n  inputProps: {},\n  multiple: true,\n  maxSize: Infinity,\n  minSize: 0\n};\n\n/* eslint-enable */\n","import { Component, PureComponent } from 'react';\nimport { isFunction } from 'lodash';\n\nclass CreateComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.CONSTS = {\n      ACTION: {\n        READY: 'READY'\n      }\n    };\n  }\n\n  reducer(state, action) {\n    switch (action.type) {\n      case this.CONSTS.ACTION.READY:\n        return {\n          ...state,\n          ...action.payload,\n          ready: true\n        };\n      default:\n        return state;\n    }\n  }\n\n  dispatch(action = { type: null, payload: {} }) {\n    if (this.reducer && isFunction(this.reducer)) {\n      this.setState((prevState) => {\n        let nextAction = action;\n\n        if (isFunction(nextAction)) {\n          nextAction = nextAction(prevState);\n        }\n\n        return this.reducer(prevState, nextAction);\n      });\n    } else {\n      throw new SyntaxError('Please provide reducer function to use this functionality!');\n    }\n  }\n}\n\nclass CreatePureComponent extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.CONSTS = {\n      ACTION: {\n        READY: 'READY'\n      }\n    };\n  }\n\n  reducer(state, action) {\n    switch (action.type) {\n      case this.CONSTS.ACTION.READY:\n        return {\n          ...state,\n          ...action.payload,\n          ready: true\n        };\n      default:\n        return state;\n    }\n  }\n\n  dispatch(action = { type: null, payload: {} }) {\n    if (this.reducer && isFunction(this.reducer)) {\n      this.setState((prevState) => {\n        let nextAction = action;\n\n        if (isFunction(nextAction)) {\n          nextAction = nextAction(prevState);\n        }\n\n        return this.reducer(prevState, nextAction);\n      });\n    } else {\n      throw new SyntaxError('Please provide reducer function to use this functionality!');\n    }\n  }\n}\n\nexport default CreateComponent;\nexport { CreatePureComponent };\n","import React, { Component } from 'react';\n\nimport Dropzone from './dropzone/index';\n\nimport {  isFunction } from 'lodash';\nimport { DropZoneContext } from '../../../core/context';\nimport { CreatePureComponent } from '../../../self/component';\n\nimport styled from 'styled-components';\nimport UploadService from '../../../services/UploadService/UploadService';\n\nconst OngoingUpload = styled.div`\n  display: ${props => (props.show ? 'block' : 'none')};\n  position: fixed;\n  bottom: 10px;\n  right: 10px;\n  padding: 16px;\n  background-color: #fff;\n  border: solid 1px #ccc;\n`;\n\nconst OngoingUploadFilesBox = styled.div`\n  height: 100%;\n  max-height: 100px;\n  overflow: auto;\n  background-color: #fff;\n`;\n\nclass El extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      progress: 0\n    };\n\n    // this.fuse = new UploadService(props);\n    this.fuse = new UploadService();\n\n    this.props.file.onUploadProgress = progress => this.setState({ progress });\n    this.props.file.onUploadSuccess = () => this.props.updateList();\n  }\n\n  render() {\n    const { fid, name } = this.props.file.state.file;\n    const { progress } = this.state;\n\n    return (\n      <div\n        role=\"button\"\n        tabIndex=\"0\"\n        onClick={() => {\n          this.fuse.cancelFile(fid).then(() => this.props.updateList());\n        }}\n        key={fid}\n      >{progress + ' - ' + name}\n      </div>\n    );\n  }\n}\n\nclass UploadView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      paused: false,\n      minimalised: false\n    };\n\n    // this.fuse = new UploadService(props);\n    this.fuse = new UploadService();\n\n    this.clearView = this.clearView.bind(this);\n    this.updateList = this.updateList.bind(this);\n    this.maximalise = this.maximalise.bind(this);\n    this.minimalise = this.minimalise.bind(this);\n    this.changeUpdateState = this.changeUpdateState.bind(this);\n  }\n\n  updateList() {\n    this.forceUpdate();\n  }\n\n  changeUpdateState() {\n    this.setState((prevState) => {\n      const isPaused = !prevState.paused;\n\n      if (isPaused) {\n        this.fuse.pauseUpload();\n      } else {\n        this.fuse.resumeUpload();\n      }\n\n      return {\n        paused: isPaused\n      };\n    });\n  }\n\n  maximalise() {\n    this.setState({\n      minimalised: false\n    });\n  }\n\n  minimalise() {\n    this.setState({\n      minimalised: true\n    });\n  }\n\n  clearView() {\n    if (this.state.paused) {\n      this.fuse.clearAll();\n      this.updateList();\n    } else {\n      this.fuse.clearUpload();\n      this.updateList();\n    }\n  }\n\n  render() {\n    const { minimalised, paused } = this.state;\n    const { files } = this.fuse.getGlobalState();\n    const [uploadedFiles] = this.fuse.countUploadedFiles();\n\n    if (!files.length) return null;\n\n    return (\n      <React.Fragment>\n        <OngoingUpload show={minimalised}>\n          <button type=\"button\" onClick={this.maximalise}>Maximalise</button>\n        </OngoingUpload>\n        <OngoingUpload show={!minimalised}>\n          { files.length ? `You have uploaded ${uploadedFiles} files from ${files.length} ` : null }\n          <button type=\"button\" onClick={this.changeUpdateState}>{paused ? 'Resume' : 'Pause'}</button>\n          <button type=\"button\" onClick={this.clearView}>Clear</button>\n          <button type=\"button\" onClick={this.minimalise}>Minimalise</button>\n          <OngoingUploadFilesBox>\n            {\n              files.map(file => <El key={file.state.file.fid} file={file} updateList={this.updateList} />)\n            }\n          </OngoingUploadFilesBox>\n        </OngoingUpload>\n      </React.Fragment>\n    );\n  }\n}\n\nclass DropZone extends CreatePureComponent {\n  constructor(props) {\n    super(props);\n\n    // this.fuse = new UploadService(props);\n    this.fuse = new UploadService();\n\n    this.state = {\n      files: [],\n      store: [],\n      dropzoneActive: false,\n      setContextState: (newState) => {\n        this.setState(newState);\n      }\n    };\n\n    this.CONSTS = {\n      ACTION: {\n        SHOW_DROPZONE: 'SHOW_DROPZONE',\n        HIDE_DROPZONE: 'HIDE_DROPZONE'\n      }\n    };\n\n    this.dropzoneRef = React.createRef();\n\n    this.onDragEnter = this.onDragEnter.bind(this);\n    this.onDragLeave = this.onDragLeave.bind(this);\n    this.onDrop = this.onDrop.bind(this);\n    this.renderDropZone = this.renderDropZone.bind(this);\n    this.renderEmpty = this.renderEmpty.bind(this);\n  }\n\n  reducer(state, action) {\n    const always = {\n      ...state,\n      ...action.payload\n    };\n\n    switch (action.type) {\n      case this.CONSTS.ACTION.SHOW_DROPZONE:\n        return {\n          ...always,\n          dropzoneActive: true\n        };\n      case this.CONSTS.ACTION.HIDE_DROPZONE:\n        return {\n          ...always,\n          dropzoneActive: false\n        };\n      default:\n        return state;\n    }\n  }\n\n  onDragEnter() {\n    this.dispatch({\n      type: this.CONSTS.ACTION.SHOW_DROPZONE\n    });\n  }\n\n  onDragLeave() {\n    this.dispatch({\n      type: this.CONSTS.ACTION.HIDE_DROPZONE\n    });\n  }\n\n  onDrop(files) {\n    this.fuse.push(files);\n\n    this.dispatch({\n      type: this.CONSTS.ACTION.HIDE_DROPZONE\n    });\n  }\n\n  renderDropZone() {\n    const { dropzoneActive } = this.state;\n\n    const overlayStyle = {\n      position: 'fixed',\n      top: '0px',\n      right: '0px',\n      bottom: '0px',\n      left: '0px',\n      zIndex: 9999,\n      display: 'flex',\n      flexDirection: 'column',\n      background: 'rgba(45, 167, 94, 0.85)',\n      alignItems: 'center',\n      justifyContent: 'center',\n      color: '#fff'\n    };\n\n    return (\n      <React.Fragment>\n        <Dropzone\n          disablePreview\n          disableClick\n          ref={this.dropzoneRef}\n          style={{ position: 'relative', width: '100%', height: '100%' }}\n          onDrop={this.onDrop}\n          onDragEnter={this.onDragEnter}\n          onDragLeave={this.onDragLeave}\n        >\n          {dropzoneActive && (\n            <div style={overlayStyle}>\n              <h3>Drop files Here</h3>\n            </div>\n          )}\n          {isFunction(this.props.children) ? this.props.children(this) : this.props.children}\n        </Dropzone>\n        { //<UploadView />\n        }\n      </React.Fragment>\n    );\n  }\n\n  renderEmpty() {\n    return <div>{isFunction(this.props.children) ? this.props.children(this) : this.props.children}</div>;\n  }\n\n  componentWillUnmount() {\n    this.setState({\n      setContextState: () => { }\n    });\n  }\n\n  componentDidUpdate(nextProps, nextState) {\n    // this.fuse.updateProps(nextProps);\n\n    if (nextState.files.length !== this.state.files.length) {\n      console.log(nextState.files);\n    }\n  }\n\n  render() {\n    const { dropzoneEnabled } = this.props;\n\n    const contextValue = {\n      ...this.state,\n      dropzoneRef: this.dropzoneRef,\n      updateFilesState: () => {}\n    };\n\n    return (\n      <DropZoneContext.Provider value={contextValue}>\n        {dropzoneEnabled ? this.renderDropZone() : this.renderEmpty()}\n      </DropZoneContext.Provider>\n    );\n  }\n}\n\nexport default DropZone;\n","import 'lodash';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createGlobalStyle } from 'styled-components';\nimport Notes from './components/notes/notes';\nimport config from './config/config';\nimport scan from './components/qr/qr';\nimport UserEnd from './components/userend/userend';\nimport Dropzone from './shared/ui/dropzone/dropzone'\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    font-family: 'Quicksand', -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\n      \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\n      sans-serif;\n  }\n\n  body {\n    color: #fff;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    background-color: #000;\n    margin: 0;\n    padding: 0;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\n      monospace;\n  }\n\n  #qr {\n    position: absolute;\n    top: ${config.debug ? '0' : '-100%'};\n    left: ${config.debug ? '0' : '-100%'};\n    width: ${config.debug ? 'auto' : 0};\n    height: ${config.debug ? 'auto' : 0};\n  }\n\n  #qrcode {\n    left: -1000px;\n    position: fixed;\n  }\n\n  .sk-fading-circle {\n    margin: 100px auto;\n    width: 40px;\n    height: 40px;\n    position: absolute;\n  }\n  \n  .sk-fading-circle .sk-circle {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n  }\n  \n  .sk-fading-circle .sk-circle:before {\n    content: '';\n    display: block;\n    margin: 0 auto;\n    width: 15%;\n    height: 15%;\n    background-color: #fff;\n    border-radius: 100%;\n    -webkit-animation: sk-circleFadeDelay 1.2s infinite ease-in-out both;\n            animation: sk-circleFadeDelay 1.2s infinite ease-in-out both;\n  }\n  .sk-fading-circle .sk-circle2 {\n    -webkit-transform: rotate(30deg);\n        -ms-transform: rotate(30deg);\n            transform: rotate(30deg);\n  }\n  .sk-fading-circle .sk-circle3 {\n    -webkit-transform: rotate(60deg);\n        -ms-transform: rotate(60deg);\n            transform: rotate(60deg);\n  }\n  .sk-fading-circle .sk-circle4 {\n    -webkit-transform: rotate(90deg);\n        -ms-transform: rotate(90deg);\n            transform: rotate(90deg);\n  }\n  .sk-fading-circle .sk-circle5 {\n    -webkit-transform: rotate(120deg);\n        -ms-transform: rotate(120deg);\n            transform: rotate(120deg);\n  }\n  .sk-fading-circle .sk-circle6 {\n    -webkit-transform: rotate(150deg);\n        -ms-transform: rotate(150deg);\n            transform: rotate(150deg);\n  }\n  .sk-fading-circle .sk-circle7 {\n    -webkit-transform: rotate(180deg);\n        -ms-transform: rotate(180deg);\n            transform: rotate(180deg);\n  }\n  .sk-fading-circle .sk-circle8 {\n    -webkit-transform: rotate(210deg);\n        -ms-transform: rotate(210deg);\n            transform: rotate(210deg);\n  }\n  .sk-fading-circle .sk-circle9 {\n    -webkit-transform: rotate(240deg);\n        -ms-transform: rotate(240deg);\n            transform: rotate(240deg);\n  }\n  .sk-fading-circle .sk-circle10 {\n    -webkit-transform: rotate(270deg);\n        -ms-transform: rotate(270deg);\n            transform: rotate(270deg);\n  }\n  .sk-fading-circle .sk-circle11 {\n    -webkit-transform: rotate(300deg);\n        -ms-transform: rotate(300deg);\n            transform: rotate(300deg); \n  }\n  .sk-fading-circle .sk-circle12 {\n    -webkit-transform: rotate(330deg);\n        -ms-transform: rotate(330deg);\n            transform: rotate(330deg); \n  }\n  .sk-fading-circle .sk-circle2:before {\n    -webkit-animation-delay: -1.1s;\n            animation-delay: -1.1s; \n  }\n  .sk-fading-circle .sk-circle3:before {\n    -webkit-animation-delay: -1s;\n            animation-delay: -1s; \n  }\n  .sk-fading-circle .sk-circle4:before {\n    -webkit-animation-delay: -0.9s;\n            animation-delay: -0.9s; \n  }\n  .sk-fading-circle .sk-circle5:before {\n    -webkit-animation-delay: -0.8s;\n            animation-delay: -0.8s; \n  }\n  .sk-fading-circle .sk-circle6:before {\n    -webkit-animation-delay: -0.7s;\n            animation-delay: -0.7s; \n  }\n  .sk-fading-circle .sk-circle7:before {\n    -webkit-animation-delay: -0.6s;\n            animation-delay: -0.6s; \n  }\n  .sk-fading-circle .sk-circle8:before {\n    -webkit-animation-delay: -0.5s;\n            animation-delay: -0.5s; \n  }\n  .sk-fading-circle .sk-circle9:before {\n    -webkit-animation-delay: -0.4s;\n            animation-delay: -0.4s;\n  }\n  .sk-fading-circle .sk-circle10:before {\n    -webkit-animation-delay: -0.3s;\n            animation-delay: -0.3s;\n  }\n  .sk-fading-circle .sk-circle11:before {\n    -webkit-animation-delay: -0.2s;\n            animation-delay: -0.2s;\n  }\n  .sk-fading-circle .sk-circle12:before {\n    -webkit-animation-delay: -0.1s;\n            animation-delay: -0.1s;\n  }\n  \n  @-webkit-keyframes sk-circleFadeDelay {\n    0%, 39%, 100% { opacity: 0; }\n    40% { opacity: 1; }\n  }\n  \n  @keyframes sk-circleFadeDelay {\n    0%, 39%, 100% { opacity: 0; }\n    40% { opacity: 1; } \n  }\n\n  @keyframes color {\n    0% { color: #FF6633; }\n    2% { color: #FFB399; }\n    4% { color: #FF33FF; }\n    6% { color: #FFFF99; }\n    8% { color: #00B3E6; }\n    10% { color: #E6B333; }\n    12% { color: #3366E6; }\n    14% { color: #999966; }\n    16% { color: #99FF99; }\n    18% { color: #B34D4D; }\n    20% { color: #80B300; }\n    22% { color: #809900; }\n    24% { color: #E6B3B3; }\n    26% { color: #6680B3; }\n    28% { color: #66991A; }\n    30% { color: #FF99E6; }\n    32% { color: #CCFF1A; }\n    34% { color: #FF1A66; }\n    36% { color: #E6331A; }\n    38% { color: #33FFCC; }\n    40% { color: #66994D; }\n    42% { color: #B366CC; }\n    44% { color: #4D8000; }\n    46% { color: #B33300; }\n    48% { color: #CC80CC; }\n    50% { color: #66664D; }\n    52% { color: #991AFF; }\n    54% { color: #E666FF; }\n    56% { color: #4DB3FF; }\n    58% { color: #1AB399; }\n    60% { color: #E666B3; }\n    62% { color: #33991A; }\n    64% { color: #CC9999; }\n    66% { color: #B3B31A; }\n    68% { color: #00E680; }\n    70% { color: #4D8066; }\n    72% { color: #809980; }\n    74% { color: #E6FF80; }\n    76% { color: #1AFF33; }\n    78% { color: #999933; }\n    80% { color: #FF3380; }\n    82% { color: #CCCC00; }\n    84% { color: #66E64D; }\n    86% { color: #4D80CC; }\n    88% { color: #9900B3; }\n    90% { color: #E64D66; }\n    92% { color: #4DB380; }\n    94% { color: #FF4D4D; }\n    96% { color: #99E6E6; }\n    98% { color: #6666FF; }\n    100% { color: #FF6633; }\n  }\n  \n  @keyframes cooolor {\n    0% { border-color: #FF6633; }\n    2% { border-color: #FFB399; }\n    4% { border-color: #FF33FF; }\n    6% { border-color: #FFFF99; }\n    8% { border-color: #00B3E6; }\n    10% { border-color: #E6B333; }\n    12% { border-color: #3366E6; }\n    14% { border-color: #999966; }\n    16% { border-color: #99FF99; }\n    18% { border-color: #B34D4D; }\n    20% { border-color: #80B300; }\n    22% { border-color: #809900; }\n    24% { border-color: #E6B3B3; }\n    26% { border-color: #6680B3; }\n    28% { border-color: #66991A; }\n    30% { border-color: #FF99E6; }\n    32% { border-color: #CCFF1A; }\n    34% { border-color: #FF1A66; }\n    36% { border-color: #E6331A; }\n    38% { border-color: #33FFCC; }\n    40% { border-color: #66994D; }\n    42% { border-color: #B366CC; }\n    44% { border-color: #4D8000; }\n    46% { border-color: #B33300; }\n    48% { border-color: #CC80CC; }\n    50% { border-color: #66664D; }\n    52% { border-color: #991AFF; }\n    54% { border-color: #E666FF; }\n    56% { border-color: #4DB3FF; }\n    58% { border-color: #1AB399; }\n    60% { border-color: #E666B3; }\n    62% { border-color: #33991A; }\n    64% { border-color: #CC9999; }\n    66% { border-color: #B3B31A; }\n    68% { border-color: #00E680; }\n    70% { border-color: #4D8066; }\n    72% { border-color: #809980; }\n    74% { border-color: #E6FF80; }\n    76% { border-color: #1AFF33; }\n    78% { border-color: #999933; }\n    80% { border-color: #FF3380; }\n    82% { border-color: #CCCC00; }\n    84% { border-color: #66E64D; }\n    86% { border-color: #4D80CC; }\n    88% { border-color: #9900B3; }\n    90% { border-color: #E64D66; }\n    92% { border-color: #4DB380; }\n    94% { border-color: #FF4D4D; }\n    96% { border-color: #99E6E6; }\n    98% { border-color: #6666FF; }\n    100% { border-color: #FF6633; }\n  }\n\n  @keyframes changeLetter {\n    0% {\n      content: \"Heating up AI...\";\n    }\n    3% {\n      content: \"Fetching images...\";\n    }\n    8% {\n      content: \"AI's reading your images...\";\n    }\n    14% {\n      content: \"Sending Unicorn with your music...\";\n    }\n    30% {\n      content: \"Lookig for this naughty Unicorn...\";\n    }\n    60% {\n      content: \"Defenitelly something wrong...\";\n    }\n    65% {\n      content: \"Ask for help plz...\";\n    }\n  }\n`;\n\nconst App = props => (\n  <React.Fragment>\n    <GlobalStyle />\n    {props.children}\n  </React.Fragment>\n);\n\nif (window.location.hash === '#donteventry') {\n  console.log('Server Mode');\n  scan();\n\n  ReactDOM.render((\n    <App>\n      <Notes />\n    </App>\n  ), document.getElementById('root'));\n} else {\n  console.log('Client Mode');\n  ReactDOM.render((\n    <App>\n      <Dropzone dropzoneEnabled={true}>\n        <UserEnd />\n      </Dropzone>\n    </App>\n  ), document.getElementById('root'));\n}\n"],"sourceRoot":""}